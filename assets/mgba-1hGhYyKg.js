(function(){"use strict";var Ga=(()=>{var Vr=self.location.href;return(async function(Ra={}){var Wr,u=Ra,tr,nr,Ua=new Promise((e,r)=>{tr=e,nr=r}),zr=typeof window=="object",fe=typeof WorkerGlobalScope<"u";typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"&&process.type!="renderer";var x=fe&&self.name?.startsWith("em-pthread");u.loadGame=(e,r)=>{if(R("loadGame","number",["string","string"])(e,r)){const n=e.split(".");n.pop();const a=n.join(".")+".sav",i=n.join(".")+"_auto.ss";return u.gameName=e,u.saveName=r??a.replace("/data/games/","/data/saves/"),u.autoSaveStateName=i.replace("/data/games/","/autosave/"),!0}return!1},u.getSave=()=>s.analyzePath(u.saveName).exists?s.readFile(u.saveName):null,u.listRoms=()=>s.readdir("/data/games/"),u.listSaves=()=>s.readdir("/data/saves/"),u.FSInit=()=>new Promise((e,r)=>{s.mkdir("/data"),s.mount(s.filesystems.IDBFS,{},"/data"),s.mkdir("/autosave"),s.mount(s.filesystems.IDBFS,{autoPersist:!0},"/autosave"),s.syncfs(!0,t=>{t&&r(new Error(`Error syncing app data from IndexedDB: ${t}`));try{s.mkdir("/data/saves")}catch{}try{s.mkdir("/data/states")}catch{}try{s.mkdir("/data/games")}catch{}try{s.mkdir("/data/cheats")}catch{}try{s.mkdir("/data/screenshots")}catch{}try{s.mkdir("/data/patches")}catch{}e()})}),u.FSSync=()=>new Promise((e,r)=>{s.syncfs(t=>{t&&r(new Error(`Error syncing app data to IndexedDB: ${t}`)),e()})}),u.filePaths=()=>({root:"/data",cheatsPath:"/data/cheats",gamePath:"/data/games",savePath:"/data/saves",saveStatePath:"/data/states",screenshotsPath:"/data/screenshots",patchPath:"/data/patches",autosave:"/autosave"}),u.uploadSaveOrSaveState=(e,r)=>{const t=e.name.split(".");if(t.length<2){console.warn("unrecognized file extension: "+e.name);return}const n=t[t.length-1].toLowerCase();let a=null;if(n=="sav")a="/data/saves/";else if(n.startsWith("ss"))a="/data/states/";else{console.warn("unrecognized file extension: "+n);return}const i=new FileReader;i.onload=o=>{s.writeFile(a+e.name,new Uint8Array(o.target.result)),r&&r()},i.readAsArrayBuffer(e)},u.uploadRom=(e,r)=>{const t=e.name.split(".");if(t.length<2){console.warn("unrecognized file extension: "+e.name);return}const n=t[t.length-1].toLowerCase();let a=null;if(["gba","gbc","gb","zip","7z"].includes(n))a="/data/games/";else{console.warn("unrecognized file extension: "+n);return}const i=new FileReader;i.onload=o=>{s.writeFile(a+e.name,new Uint8Array(o.target.result)),r&&r()},i.readAsArrayBuffer(e)},u.uploadCheats=(e,r)=>{const t=e.name.split(".");if(t.length<2){console.warn("unrecognized file extension: "+e.name);return}const n=t[t.length-1].toLowerCase();let a=null;if(n=="cheats")a="/data/cheats/";else{console.warn("unrecognized file extension: "+n);return}const i=new FileReader;i.onload=o=>{s.writeFile(a+e.name,new Uint8Array(o.target.result)),r&&r()},i.readAsArrayBuffer(e)},u.uploadScreenshot=(e,r)=>{const t=e.name.split(".");if(t.length<2){console.warn("unrecognized file extension: "+e.name);return}const n=t[t.length-1].toLowerCase();let a=null;if(n=="png")a="/data/screenshots/";else{console.warn("unrecognized file extension: "+n);return}const i=new FileReader;i.onload=o=>{s.writeFile(a+e.name,new Uint8Array(o.target.result)),r&&r()},i.readAsArrayBuffer(e)},u.uploadPatch=(e,r)=>{const t=e.name.split(".");if(t.length<2){console.warn("unrecognized file extension: "+e.name);return}const n=t[t.length-1].toLowerCase();let a=null;if(["ips","ups","bps"].includes(n))a="/data/patches/";else{console.warn("unrecognized file extension: "+n);return}const i=new FileReader;i.onload=o=>{s.writeFile(a+e.name,new Uint8Array(o.target.result)),r&&r()},i.readAsArrayBuffer(e)};const ar=new Map([["a",0],["b",1],["select",2],["start",3],["right",4],["left",5],["up",6],["down",7],["r",8],["l",9]]);u.buttonPress=e=>{R("buttonPress",null,["number"])(ar.get(e.toLowerCase()))},u.buttonUnpress=e=>{R("buttonUnpress",null,["number"])(ar.get(e.toLowerCase()))},u.bindKey=(e,r)=>{R("bindKey",null,["string","number"])(e,ar.get(r.toLowerCase()))},u.pauseGame=()=>{R("pauseGame",null,[])()},u.resumeGame=()=>{R("resumeGame",null,[])()},u.pauseAudio=()=>{R("pauseAudio",null,[])()},u.resumeAudio=()=>{R("resumeAudio",null,[])()},u.getVolume=()=>R("getVolume","number",[])(),u.setVolume=e=>{R("setVolume",null,["number"])(e)},u.getMainLoopTimingMode=()=>R("getMainLoopTimingMode","number",[])(),u.getMainLoopTimingValue=()=>R("getMainLoopTimingValue","number",[])(),u.setMainLoopTiming=(e,r)=>{R("setMainLoopTiming","number",["number","number"])(e,r)},u.quitGame=()=>{R("quitGame",null,[])()},u.quitMgba=()=>{R("quitMgba",null,[])()},u.quickReload=()=>{R("quickReload",null,[])()},u.toggleInput=e=>{R("setEventEnable",null,["boolean"])(e)},u.screenshot=e=>R("screenshot","boolean",["string"])(e),u.saveState=e=>R("saveState","boolean",["number"])(e),u.loadState=e=>R("loadState","boolean",["number"])(e),u.forceAutoSaveState=()=>R("autoSaveState","boolean",[])(),u.loadAutoSaveState=()=>R("loadAutoSaveState","boolean",[])(),u.getAutoSaveState=()=>s.analyzePath(u.autoSaveStateName).exists?{autoSaveStateName:u.autoSaveStateName,data:s.readFile(u.autoSaveStateName)}:null,u.uploadAutoSaveState=async(e,r)=>new Promise((t,n)=>{try{if(!(r instanceof Uint8Array)){console.warn("Auto save state data must be a Uint8Array");return}if(!e.length){console.warn("Auto save state file name invalid");return}const a=`${e}`;s.writeFile(a,r),t()}catch(a){n(a)}}),u.saveStateSlot=(e,r)=>{var t=R("saveStateSlot","number",["number","number"]);return u.saveStateSlot=(n,a)=>(a===void 0&&(a=63),t(n,a)),u.saveStateSlot(e,r)},u.loadStateSlot=(e,r)=>{var t=R("loadStateSlot","number",["number","number"]);return u.loadStateSlot=(n,a)=>(a===void 0&&(a=61),t(n,a)),u.loadStateSlot(e,r)},u.autoLoadCheats=()=>R("autoLoadCheats","bool",[])(),u.setFastForwardMultiplier=e=>{R("setFastForwardMultiplier",null,["number"])(e)},u.getFastForwardMultiplier=()=>R("getFastForwardMultiplier","number",[])();const te={alarmCallbackPtr:null,coreCrashedCallbackPtr:null,keysReadCallbackPtr:null,saveDataUpdatedCallbackPtr:null,videoFrameEndedCallbackPtr:null,videoFrameStartedCallbackPtr:null,autoSaveStateCapturedCallbackPtr:null,autoSaveStateLoadedCallbackPtr:null};u.addCoreCallbacks=e=>{const r=R("addCoreCallbacks",null,["number"]);Object.keys(te).forEach(t=>{const n=t.replace("CallbackPtr","Callback"),a=e[n];a!==void 0&&te[t]&&(wa(te[t]),te[t]=null),a&&(te[t]=ya(a,"vi"))}),r(te.alarmCallbackPtr,te.coreCrashedCallbackPtr,te.keysReadCallbackPtr,te.saveDataUpdatedCallbackPtr,te.videoFrameEndedCallbackPtr,te.videoFrameStartedCallbackPtr,te.autoSaveStateCapturedCallbackPtr,te.autoSaveStateLoadedCallbackPtr)},u.toggleRewind=e=>{R("toggleRewind",null,["boolean"])(e)},u.setCoreSettings=e=>{const r=R("setIntegerCoreSetting",null,["string","number"]);e.allowOpposingDirections!==void 0&&r("allowOpposingDirections",e.allowOpposingDirections),e.rewindBufferCapacity!==void 0&&r("rewindBufferCapacity",e.rewindBufferCapacity),e.rewindBufferInterval!==void 0&&r("rewindBufferInterval",e.rewindBufferInterval),e?.frameSkip!==void 0&&r("frameSkip",e.frameSkip),e.audioSampleRate!==void 0&&r("audioSampleRate",e.audioSampleRate),e.audioBufferSize!==void 0&&r("audioBufferSize",e.audioBufferSize),e.videoSync!==void 0&&r("videoSync",e.videoSync),e.audioSync!==void 0&&r("audioSync",e.audioSync),e.threadedVideo!==void 0&&r("threadedVideo",e.threadedVideo),e.rewindEnable!==void 0&&r("rewindEnable",e.rewindEnable),e.baseFpsTarget!==void 0&&r("baseFpsTarget",e.baseFpsTarget),e.timestepSync!==void 0&&r("timestepSync",e.timestepSync),e.showFpsCounter!==void 0&&r("showFpsCounter",e.showFpsCounter),e.autoSaveStateTimerIntervalSeconds!==void 0&&r("autoSaveStateTimerIntervalSeconds",e.autoSaveStateTimerIntervalSeconds),e.autoSaveStateEnable!==void 0&&r("autoSaveStateEnable",e.autoSaveStateEnable),e.restoreAutoSaveStateOnLoad!==void 0&&r("restoreAutoSaveStateOnLoad",e.restoreAutoSaveStateOnLoad)};var jr=Object.assign({},u),qr="./this.program",Xr=(e,r)=>{throw r},se="";function Oa(e){return u.locateFile?u.locateFile(e,se):se+e}var ir,Re;(zr||fe)&&(fe?se=self.location.href:typeof document<"u"&&document.currentScript&&(se=document.currentScript.src),Vr&&(se=Vr),se.startsWith("blob:")?se="":se=se.slice(0,se.replace(/[?#].*/,"").lastIndexOf("/")+1),fe&&(Re=e=>{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.responseType="arraybuffer",r.send(null),new Uint8Array(r.response)}),ir=async e=>{var r=await fetch(e,{credentials:"same-origin"});if(r.ok)return r.arrayBuffer();throw new Error(r.status+" : "+r.url)});var Ue=u.print||console.log.bind(console),Q=u.printErr||console.error.bind(console);Object.assign(u,jr),jr=null,u.arguments&&u.arguments,u.thisProgram&&(qr=u.thisProgram);var Oe=u.wasmBinary,pe,Hr,he=!1,xe;function Na(e,r){e||de(r)}var B,ee,le,Qr,m,P,T,$,K;if(x){let e=function(...n){var a=n.join(" ");console.error(a)},r=function(...n){var a=n.join(" ");postMessage({cmd:"alert",text:a,threadId:Ie()})},t=function(n){try{var a=n.data,i=a.cmd;if(i==="load"){let o=[];self.onmessage=l=>o.push(l),self.startWorker=l=>{postMessage({cmd:"loaded"});for(let f of o)t(f);self.onmessage=t};for(const l of a.handlers)(!u[l]||u[l].proxy)&&(u[l]=(...f)=>{postMessage({cmd:"callHandler",handler:l,args:f})},l=="print"&&(Ue=u[l]),l=="printErr"&&(Q=u[l]));pe=a.wasmMemory,$r(),Yr(a.wasmModule)}else if(i==="run"){Ja(a.pthread_ptr),Ur(a.pthread_ptr,0,0,1,0,0),M.threadInitTLS(),br(a.pthread_ptr),or||(or=!0);try{Za(a.start_routine,a.arg)}catch(o){if(o!="unwind")throw o}}else a.target==="setimmediate"||(i==="checkMailbox"?or&&je():i&&(Q(`worker: received unknown command ${i}`),Q(a)))}catch(o){throw Aa(),o}};var Yr,or=!1;u.printErr||(Q=e),self.alert=r,self.onunhandledrejection=n=>{throw n.reason||n},self.onmessage=t}function $r(){var e=pe.buffer;u.HEAP8=B=new Int8Array(e),u.HEAP16=le=new Int16Array(e),u.HEAPU8=ee=new Uint8Array(e),u.HEAPU16=Qr=new Uint16Array(e),u.HEAP32=m=new Int32Array(e),u.HEAPU32=P=new Uint32Array(e),u.HEAPF32=T=new Float32Array(e),u.HEAPF64=K=new Float64Array(e),u.HEAP64=$=new BigInt64Array(e),u.HEAPU64=new BigUint64Array(e)}if(!x){if(u.wasmMemory)pe=u.wasmMemory;else{var Kr=u.INITIAL_MEMORY||268435456;pe=new WebAssembly.Memory({initial:Kr/65536,maximum:Kr/65536,shared:!0})}$r()}function Va(){if(u.preRun)for(typeof u.preRun=="function"&&(u.preRun=[u.preRun]);u.preRun.length;)it(u.preRun.shift());nt(at)}function Jr(){if(x)return startWorker(u);!u.noFSInit&&!s.initialized&&s.init(),C.__wasm_call_ctors(),s.ignorePermissions=!1}function Wa(){if(!x){if(u.postRun)for(typeof u.postRun=="function"&&(u.postRun=[u.postRun]);u.postRun.length;)Ka(u.postRun.shift());nt(ct)}}var me=0,Ae=null;function sr(e){me++,u.monitorRunDependencies?.(me)}function Ne(e){if(me--,u.monitorRunDependencies?.(me),me==0&&Ae){var r=Ae;Ae=null,r()}}function de(e){u.onAbort?.(e),e="Aborted("+e+")",Q(e),he=!0,e+=". Build with -sASSERTIONS for more info.";var r=new WebAssembly.RuntimeError(e);throw nr(r),r}var lr;function za(){return u.locateFile?Oa("mgba.wasm"):new URL("/gba-pwa/assets/mgba-CPMew7rQ.wasm",self.location.href).href}function ja(e){if(e==lr&&Oe)return new Uint8Array(Oe);if(Re)return Re(e);throw"both async and sync fetching of the wasm failed"}async function qa(e){if(!Oe)try{var r=await ir(e);return new Uint8Array(r)}catch{}return ja(e)}async function Xa(e,r){try{var t=await qa(e),n=await WebAssembly.instantiate(t,r);return n}catch(a){Q(`failed to asynchronously prepare wasm: ${a}`),de(a)}}async function Ha(e,r,t){if(!e&&typeof WebAssembly.instantiateStreaming=="function")try{var n=fetch(r,{credentials:"same-origin"}),a=await WebAssembly.instantiateStreaming(n,t);return a}catch(i){Q(`wasm streaming compile failed: ${i}`),Q("falling back to ArrayBuffer instantiation")}return Xa(r,t)}function Zr(){return kg(),{env:Rr,wasi_snapshot_preview1:Rr}}async function Qa(){function e(i,o){return C=i.exports,ei(C._emscripten_tls_init),ne=C.__indirect_function_table,Hr=o,Ne(),C}sr();function r(i){return e(i.instance,i.module)}var t=Zr();if(u.instantiateWasm)return new Promise((i,o)=>{u.instantiateWasm(t,(l,f)=>{e(l,f),i(l.exports)})});if(x)return new Promise(i=>{Yr=o=>{var l=new WebAssembly.Instance(o,Zr());i(e(l,o))}});lr??=za();try{var n=await Ha(Oe,lr,t),a=r(n);return a}catch(i){return nr(i),Promise.reject(i)}}var cr={310352:(e,r)=>{u.canvas.width=e,u.canvas.height=r},310409:()=>{console.error("thread instantiation failed")},310458:(e,r,t,n,a,i,o)=>{u.version={gitCommit:W(e),gitShort:W(r),gitBranch:W(t),gitRevision:n,binaryName:W(a),projectName:W(i),projectVersion:W(o)}},310690:(e,r)=>{const t=e,n=r,a=ne.get(t);a&&a(n)},310788:(e,r)=>{const t=e,n=r,a=ne.get(t);a&&a(n)},310886:(e,r)=>{const t=e,n=r,a=ne.get(t);a&&a(n)},310984:(e,r)=>{const t=e,n=r,a=ne.get(t);a&&a(n)},311082:(e,r)=>{const t=e,n=r,a=ne.get(t);a&&a(n)},311180:(e,r)=>{const t=e,n=r,a=ne.get(t);a&&a(n)},311278:()=>{s.syncfs(function(e){Na(!e)})},311322:e=>{var r=W(e)+`

Abort/Retry/Ignore/AlwaysIgnore? [ariA] :`,t=window.prompt(r,"i");return t===null&&(t="i"),allocate(gr(t),"i8",ALLOC_NORMAL)},311547:()=>typeof AudioContext<"u"?!0:typeof webkitAudioContext<"u",311694:()=>typeof navigator.mediaDevices<"u"&&typeof navigator.mediaDevices.getUserMedia<"u"?!0:typeof navigator.webkitGetUserMedia<"u",311928:e=>{typeof u.SDL2>"u"&&(u.SDL2={});var r=u.SDL2;return e?r.capture={}:r.audio={},r.audioContext||(typeof AudioContext<"u"?r.audioContext=new AudioContext:typeof webkitAudioContext<"u"&&(r.audioContext=new webkitAudioContext),r.audioContext&&typeof navigator.userActivation>"u"&&vg(r.audioContext)),r.audioContext===void 0?-1:0},312480:()=>{var e=u.SDL2;return e.audioContext.sampleRate},312548:(e,r,t,n)=>{var a=u.SDL2,i=function(f){a.capture.silenceTimer!==void 0&&(clearInterval(a.capture.silenceTimer),a.capture.silenceTimer=void 0,a.capture.silenceBuffer=void 0),a.capture.mediaStreamNode=a.audioContext.createMediaStreamSource(f),a.capture.scriptProcessorNode=a.audioContext.createScriptProcessor(r,e,1),a.capture.scriptProcessorNode.onaudioprocess=function(v){a===void 0||a.capture===void 0||(v.outputBuffer.getChannelData(0).fill(0),a.capture.currentCaptureBuffer=v.inputBuffer,rr("vi",t,[n]))},a.capture.mediaStreamNode.connect(a.capture.scriptProcessorNode),a.capture.scriptProcessorNode.connect(a.audioContext.destination),a.capture.stream=f},o=function(f){};a.capture.silenceBuffer=a.audioContext.createBuffer(e,r,a.audioContext.sampleRate),a.capture.silenceBuffer.getChannelData(0).fill(0);var l=function(){a.capture.currentCaptureBuffer=a.capture.silenceBuffer,rr("vi",t,[n])};a.capture.silenceTimer=setInterval(l,r/a.audioContext.sampleRate*1e3),navigator.mediaDevices!==void 0&&navigator.mediaDevices.getUserMedia!==void 0?navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(i).catch(o):navigator.webkitGetUserMedia!==void 0&&navigator.webkitGetUserMedia({audio:!0,video:!1},i,o)},314241:(e,r,t,n)=>{var a=u.SDL2;if(a.audio.scriptProcessorNode=a.audioContext.createScriptProcessor(r,0,e),a.audio.scriptProcessorNode.onaudioprocess=function(o){a===void 0||a.audio===void 0||(a.audio.silenceTimer!==void 0&&(clearInterval(a.audio.silenceTimer),a.audio.silenceTimer=void 0,a.audio.silenceBuffer=void 0),a.audio.currentOutputBuffer=o.outputBuffer,rr("vi",t,[n]))},a.audio.scriptProcessorNode.connect(a.audioContext.destination),a.audioContext.state==="suspended"){a.audio.silenceBuffer=a.audioContext.createBuffer(e,r,a.audioContext.sampleRate),a.audio.silenceBuffer.getChannelData(0).fill(0);var i=function(){typeof navigator.userActivation<"u"&&navigator.userActivation.hasBeenActive&&a.audioContext.resume(),a.audio.currentOutputBuffer=a.audio.silenceBuffer,rr("vi",t,[n]),a.audio.currentOutputBuffer=void 0};a.audio.silenceTimer=setInterval(i,r/a.audioContext.sampleRate*1e3)}},315416:(e,r)=>{for(var t=u.SDL2,n=t.capture.currentCaptureBuffer.numberOfChannels,a=0;a<n;++a){var i=t.capture.currentCaptureBuffer.getChannelData(a);if(i.length!=r)throw"Web Audio capture buffer length mismatch! Destination size: "+i.length+" samples vs expected "+r+" samples!";if(n==1)for(var o=0;o<r;++o)ut(e+o*4,i[o],"float");else for(var o=0;o<r;++o)ut(e+(o*n+a)*4,i[o],"float")}},316021:(e,r)=>{for(var t=u.SDL2,n=e>>>2,a=t.audio.currentOutputBuffer.numberOfChannels,i=0;i<a;++i){var o=t.audio.currentOutputBuffer.getChannelData(i);if(o.length!=r)throw"Web Audio output buffer length mismatch! Destination size: "+o.length+" samples vs expected "+r+" samples!";for(var l=0;l<r;++l)o[l]=T[n+(l*a+i)]}},316510:e=>{var r=u.SDL2;if(e){if(r.capture.silenceTimer!==void 0&&clearInterval(r.capture.silenceTimer),r.capture.stream!==void 0)for(var t=r.capture.stream.getAudioTracks(),n=0;n<t.length;n++)r.capture.stream.removeTrack(t[n]);r.capture.scriptProcessorNode!==void 0&&(r.capture.scriptProcessorNode.onaudioprocess=function(a){},r.capture.scriptProcessorNode.disconnect()),r.capture.mediaStreamNode!==void 0&&r.capture.mediaStreamNode.disconnect(),r.capture=void 0}else r.audio.scriptProcessorNode!=null&&r.audio.scriptProcessorNode.disconnect(),r.audio.silenceTimer!==void 0&&clearInterval(r.audio.silenceTimer),r.audio=void 0;r.audioContext!==void 0&&r.audio===void 0&&r.capture===void 0&&(r.audioContext.close(),r.audioContext=void 0)},317516:(e,r,t)=>{var n=e,a=r,i=t;u.SDL2||(u.SDL2={});var o=u.SDL2;o.ctxCanvas!==u.canvas&&(o.ctx=u.createContext(u.canvas,!1,!0),o.ctxCanvas=u.canvas),(o.w!==n||o.h!==a||o.imageCtx!==o.ctx)&&(o.image=o.ctx.createImageData(n,a),o.w=n,o.h=a,o.imageCtx=o.ctx);var l=o.image.data,f=i/4,v=0,_;if(typeof CanvasPixelArray<"u"&&l instanceof CanvasPixelArray)for(_=l.length;v<_;){var g=m[f];l[v]=g&255,l[v+1]=g>>8&255,l[v+2]=g>>16&255,l[v+3]=255,f++,v+=4}else{o.data32Data!==l&&(o.data32=new Int32Array(l.buffer),o.data8=new Uint8Array(l.buffer),o.data32Data=l);var E=o.data32;_=E.length,E.set(m.subarray(f,f+_));var p=o.data8,h=3,F=h+4*_;if(_%8==0)for(;h<F;)p[h]=255,h=h+4|0,p[h]=255,h=h+4|0,p[h]=255,h=h+4|0,p[h]=255,h=h+4|0,p[h]=255,h=h+4|0,p[h]=255,h=h+4|0,p[h]=255,h=h+4|0,p[h]=255,h=h+4|0;else for(;h<F;)p[h]=255,h=h+4|0}o.ctx.putImageData(o.image,0,0)},318984:(e,r,t,n,a)=>{var i=e,o=r,l=t,f=n,v=a,_=document.createElement("canvas");_.width=i,_.height=o;var g=_.getContext("2d"),E=g.createImageData(i,o),p=E.data,h=v/4,F=0,U;if(typeof CanvasPixelArray<"u"&&p instanceof CanvasPixelArray)for(U=p.length;F<U;){var D=m[h];p[F]=D&255,p[F+1]=D>>8&255,p[F+2]=D>>16&255,p[F+3]=D>>24&255,h++,F+=4}else{var H=new Int32Array(p.buffer);U=H.length,H.set(m.subarray(h,h+U))}g.putImageData(E,0,0);var j=l===0&&f===0?"url("+_.toDataURL()+"), auto":"url("+_.toDataURL()+") "+l+" "+f+", auto",q=z(j.length+1);return V(j,q,j.length+1),q},319972:e=>{u.canvas&&(u.canvas.style.cursor=W(e))},320055:()=>{u.canvas&&(u.canvas.style.cursor="none")},320124:()=>window.innerWidth,320154:()=>window.innerHeight};class et{name="ExitStatus";constructor(r){this.message=`Program terminated with exit(${r})`,this.status=r}}var rt=e=>{e.terminate(),e.onmessage=r=>{}},tt=e=>{var r=M.pthreads[e];M.returnWorkerToPool(r)},nt=e=>{for(;e.length>0;)e.shift()(u)},at=[],it=e=>at.unshift(e),ot=e=>{var r=M.getNewWorker();if(!r)return 6;M.runningWorkers.push(r),M.pthreads[e.pthread_ptr]=r,r.pthread_ptr=e.pthread_ptr;var t={cmd:"run",start_routine:e.startRoutine,arg:e.arg,pthread_ptr:e.pthread_ptr};return r.postMessage(t,e.transferList),0},Fe=0,ur=()=>dr||Fe>0,re=()=>Ma(),J=e=>Ta(e),Ve=e=>La(e),Ya=9007199254740992,$a=-9007199254740992,be=e=>e<$a||e>Ya?NaN:Number(e),k=(e,r,t,...n)=>{for(var a=n.length*2,i=re(),o=Ve(a*8),l=o>>3,f=0;f<n.length;f++){var v=n[f];typeof v=="bigint"?($[l+2*f]=1n,$[l+2*f+1]=v):($[l+2*f]=0n,K[l+2*f+1]=v)}var _=Fa(e,r,a,o,t);return J(i),_};function fr(e){if(x)return k(0,0,1,e);xe=e,ur()||(M.terminateAllThreads(),u.onExit?.(e),he=!0),Xr(e,new et(e))}var mr=e=>{if(e instanceof et||e=="unwind")return xe;Xr(1,e)};function st(e){if(x)return k(1,0,0,e);We(e)}var lt=(e,r)=>{if(xe=e,x)throw st(e),"unwind";fr(e)},We=lt,M={unusedWorkers:[],runningWorkers:[],tlsInitFunctions:[],pthreads:{},init(){x||M.initMainThread()},initMainThread(){for(var e=5;e--;)M.allocateUnusedWorker();it(()=>{sr(),M.loadWasmModuleToAllWorkers(()=>Ne())})},terminateAllThreads:()=>{for(var e of M.runningWorkers)rt(e);for(var e of M.unusedWorkers)rt(e);M.unusedWorkers=[],M.runningWorkers=[],M.pthreads={}},returnWorkerToPool:e=>{var r=e.pthread_ptr;delete M.pthreads[r],M.unusedWorkers.push(e),M.runningWorkers.splice(M.runningWorkers.indexOf(e),1),e.pthread_ptr=0,Da(r)},threadInitTLS(){M.tlsInitFunctions.forEach(e=>e())},loadWasmModuleToWorker:e=>new Promise(r=>{e.onmessage=i=>{var o=i.data,l=o.cmd;if(o.targetThread&&o.targetThread!=Ie()){var f=M.pthreads[o.targetThread];f?f.postMessage(o,o.transferList):Q(`Internal error! Worker sent a message "${l}" to target pthread ${o.targetThread}, but that thread no longer exists!`);return}l==="checkMailbox"?je():l==="spawnThread"?ot(o):l==="cleanupThread"?tt(o.thread):l==="loaded"?(e.loaded=!0,r(e)):l==="alert"?alert(`Thread ${o.threadId}: ${o.text}`):o.target==="setimmediate"?e.postMessage(o):l==="callHandler"?u[o.handler](...o.args):l&&Q(`worker sent an unknown command ${l}`)},e.onerror=i=>{var o="worker sent an error!";throw Q(`${o} ${i.filename}:${i.lineno}: ${i.message}`),i};var t=[],n=["onExit","onAbort","print","printErr"];for(var a of n)u.propertyIsEnumerable(a)&&t.push(a);e.postMessage({cmd:"load",handlers:t,wasmMemory:pe,wasmModule:Hr})}),loadWasmModuleToAllWorkers(e){if(x)return e();Promise.all(M.unusedWorkers.map(M.loadWasmModuleToWorker)).then(e)},allocateUnusedWorker(){var e;e=new Worker(self.location.href,{type:"module",name:"em-pthread"}),M.unusedWorkers.push(e)},getNewWorker(){return M.unusedWorkers.length==0&&(M.allocateUnusedWorker(),M.loadWasmModuleToWorker(M.unusedWorkers[0])),M.unusedWorkers.pop()}},ct=[],Ka=e=>ct.unshift(e),Ja=e=>{var r=P[e+52>>2],t=P[e+56>>2],n=r-t;Pa(r,n),J(r)},De=[],ne,O=e=>{var r=De[e];return r||(e>=De.length&&(De.length=e+1),De[e]=r=ne.get(e)),r},Za=(e,r)=>{Fe=0,dr=0;var t=O(e)(r);function n(a){ur()?xe=a:Or(a)}n(t)},dr=u.noExitRuntime||!0,ei=e=>M.tlsInitFunctions.push(e);function ut(e,r,t="i8"){switch(t.endsWith("*")&&(t="*"),t){case"i1":B[e]=r;break;case"i8":B[e]=r;break;case"i16":le[e>>1]=r;break;case"i32":m[e>>2]=r;break;case"i64":$[e>>3]=BigInt(r);break;case"float":T[e>>2]=r;break;case"double":K[e>>3]=r;break;case"*":P[e>>2]=r;break;default:de(`invalid type for setValue: ${t}`)}}var ft=typeof TextDecoder<"u"?new TextDecoder:void 0,Ee=(e,r=0,t=NaN)=>{for(var n=r+t,a=r;e[a]&&!(a>=n);)++a;if(a-r>16&&e.buffer&&ft)return ft.decode(e.buffer instanceof ArrayBuffer?e.subarray(r,a):e.slice(r,a));for(var i="";r<a;){var o=e[r++];if(!(o&128)){i+=String.fromCharCode(o);continue}var l=e[r++]&63;if((o&224)==192){i+=String.fromCharCode((o&31)<<6|l);continue}var f=e[r++]&63;if((o&240)==224?o=(o&15)<<12|l<<6|f:o=(o&7)<<18|l<<12|f<<6|e[r++]&63,o<65536)i+=String.fromCharCode(o);else{var v=o-65536;i+=String.fromCharCode(55296|v>>10,56320|v&1023)}}return i},W=(e,r)=>e?Ee(ee,e,r):"",ri=(e,r,t,n)=>de(`Assertion failed: ${W(e)}, at: `+[r?W(r):"unknown filename",t,n?W(n):"unknown function"]),ti=(e,r)=>O(e)(r);function mt(e,r,t,n){return x?k(2,0,1,e,r,t,n):dt(e,r,t,n)}var ni=()=>typeof SharedArrayBuffer<"u",dt=(e,r,t,n)=>{if(!ni())return 6;var a=[],i=0;if(x&&(a.length===0||i))return mt(e,r,t,n);var o={startRoutine:t,pthread_ptr:e,arg:n,transferList:a};return x?(o.cmd="spawnThread",postMessage(o,a),0):ot(o)},ze=()=>{var e=m[+L.varargs>>2];return L.varargs+=4,e},ye=ze,N={isAbs:e=>e.charAt(0)==="/",splitPath:e=>{var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return r.exec(e).slice(1)},normalizeArray:(e,r)=>{for(var t=0,n=e.length-1;n>=0;n--){var a=e[n];a==="."?e.splice(n,1):a===".."?(e.splice(n,1),t++):t&&(e.splice(n,1),t--)}if(r)for(;t;t--)e.unshift("..");return e},normalize:e=>{var r=N.isAbs(e),t=e.slice(-1)==="/";return e=N.normalizeArray(e.split("/").filter(n=>!!n),!r).join("/"),!e&&!r&&(e="."),e&&t&&(e+="/"),(r?"/":"")+e},dirname:e=>{var r=N.splitPath(e),t=r[0],n=r[1];return!t&&!n?".":(n&&(n=n.slice(0,-1)),t+n)},basename:e=>e&&e.match(/([^\/]+|\/)\/*$/)[1],join:(...e)=>N.normalize(e.join("/")),join2:(e,r)=>N.normalize(e+"/"+r)},ai=()=>e=>e.set(crypto.getRandomValues(new Uint8Array(e.byteLength))),vt=e=>{(vt=ai())(e)},we={resolve:(...e)=>{for(var r="",t=!1,n=e.length-1;n>=-1&&!t;n--){var a=n>=0?e[n]:s.cwd();if(typeof a!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!a)return"";r=a+"/"+r,t=N.isAbs(a)}return r=N.normalizeArray(r.split("/").filter(i=>!!i),!t).join("/"),(t?"/":"")+r||"."},relative:(e,r)=>{e=we.resolve(e).slice(1),r=we.resolve(r).slice(1);function t(v){for(var _=0;_<v.length&&v[_]==="";_++);for(var g=v.length-1;g>=0&&v[g]==="";g--);return _>g?[]:v.slice(_,g-_+1)}for(var n=t(e.split("/")),a=t(r.split("/")),i=Math.min(n.length,a.length),o=i,l=0;l<i;l++)if(n[l]!==a[l]){o=l;break}for(var f=[],l=o;l<n.length;l++)f.push("..");return f=f.concat(a.slice(o)),f.join("/")}},vr=[],ke=e=>{for(var r=0,t=0;t<e.length;++t){var n=e.charCodeAt(t);n<=127?r++:n<=2047?r+=2:n>=55296&&n<=57343?(r+=4,++t):r+=3}return r},_r=(e,r,t,n)=>{if(!(n>0))return 0;for(var a=t,i=t+n-1,o=0;o<e.length;++o){var l=e.charCodeAt(o);if(l>=55296&&l<=57343){var f=e.charCodeAt(++o);l=65536+((l&1023)<<10)|f&1023}if(l<=127){if(t>=i)break;r[t++]=l}else if(l<=2047){if(t+1>=i)break;r[t++]=192|l>>6,r[t++]=128|l&63}else if(l<=65535){if(t+2>=i)break;r[t++]=224|l>>12,r[t++]=128|l>>6&63,r[t++]=128|l&63}else{if(t+3>=i)break;r[t++]=240|l>>18,r[t++]=128|l>>12&63,r[t++]=128|l>>6&63,r[t++]=128|l&63}}return r[t]=0,t-a},gr=(e,r,t)=>{var n=ke(e)+1,a=new Array(n),i=_r(e,a,0,a.length);return r&&(a.length=i),a},ii=()=>{if(!vr.length){var e=null;if(typeof window<"u"&&typeof window.prompt=="function"&&(e=window.prompt("Input: "),e!==null&&(e+=`
`)),!e)return null;vr=gr(e,!0)}return vr.shift()},ve={ttys:[],init(){},shutdown(){},register(e,r){ve.ttys[e]={input:[],output:[],ops:r},s.registerDevice(e,ve.stream_ops)},stream_ops:{open(e){var r=ve.ttys[e.node.rdev];if(!r)throw new s.ErrnoError(43);e.tty=r,e.seekable=!1},close(e){e.tty.ops.fsync(e.tty)},fsync(e){e.tty.ops.fsync(e.tty)},read(e,r,t,n,a){if(!e.tty||!e.tty.ops.get_char)throw new s.ErrnoError(60);for(var i=0,o=0;o<n;o++){var l;try{l=e.tty.ops.get_char(e.tty)}catch{throw new s.ErrnoError(29)}if(l===void 0&&i===0)throw new s.ErrnoError(6);if(l==null)break;i++,r[t+o]=l}return i&&(e.node.atime=Date.now()),i},write(e,r,t,n,a){if(!e.tty||!e.tty.ops.put_char)throw new s.ErrnoError(60);try{for(var i=0;i<n;i++)e.tty.ops.put_char(e.tty,r[t+i])}catch{throw new s.ErrnoError(29)}return n&&(e.node.mtime=e.node.ctime=Date.now()),i}},default_tty_ops:{get_char(e){return ii()},put_char(e,r){r===null||r===10?(Ue(Ee(e.output)),e.output=[]):r!=0&&e.output.push(r)},fsync(e){e.output?.length>0&&(Ue(Ee(e.output)),e.output=[])},ioctl_tcgets(e){return{c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ioctl_tcsets(e,r,t){return 0},ioctl_tiocgwinsz(e){return[24,80]}},default_tty1_ops:{put_char(e,r){r===null||r===10?(Q(Ee(e.output)),e.output=[]):r!=0&&e.output.push(r)},fsync(e){e.output?.length>0&&(Q(Ee(e.output)),e.output=[])}}},oi=(e,r)=>{ee.fill(0,e,e+r)},si=(e,r)=>Math.ceil(e/r)*r,_t=e=>{e=si(e,65536);var r=Ca(65536,e);return r&&oi(r,e),r},A={ops_table:null,mount(e){return A.createNode(null,"/",16895,0)},createNode(e,r,t,n){if(s.isBlkdev(t)||s.isFIFO(t))throw new s.ErrnoError(63);A.ops_table||={dir:{node:{getattr:A.node_ops.getattr,setattr:A.node_ops.setattr,lookup:A.node_ops.lookup,mknod:A.node_ops.mknod,rename:A.node_ops.rename,unlink:A.node_ops.unlink,rmdir:A.node_ops.rmdir,readdir:A.node_ops.readdir,symlink:A.node_ops.symlink},stream:{llseek:A.stream_ops.llseek}},file:{node:{getattr:A.node_ops.getattr,setattr:A.node_ops.setattr},stream:{llseek:A.stream_ops.llseek,read:A.stream_ops.read,write:A.stream_ops.write,allocate:A.stream_ops.allocate,mmap:A.stream_ops.mmap,msync:A.stream_ops.msync}},link:{node:{getattr:A.node_ops.getattr,setattr:A.node_ops.setattr,readlink:A.node_ops.readlink},stream:{}},chrdev:{node:{getattr:A.node_ops.getattr,setattr:A.node_ops.setattr},stream:s.chrdev_stream_ops}};var a=s.createNode(e,r,t,n);return s.isDir(a.mode)?(a.node_ops=A.ops_table.dir.node,a.stream_ops=A.ops_table.dir.stream,a.contents={}):s.isFile(a.mode)?(a.node_ops=A.ops_table.file.node,a.stream_ops=A.ops_table.file.stream,a.usedBytes=0,a.contents=null):s.isLink(a.mode)?(a.node_ops=A.ops_table.link.node,a.stream_ops=A.ops_table.link.stream):s.isChrdev(a.mode)&&(a.node_ops=A.ops_table.chrdev.node,a.stream_ops=A.ops_table.chrdev.stream),a.atime=a.mtime=a.ctime=Date.now(),e&&(e.contents[r]=a,e.atime=e.mtime=e.ctime=a.atime),a},getFileDataAsTypedArray(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array(0)},expandFileStorage(e,r){var t=e.contents?e.contents.length:0;if(!(t>=r)){var n=1024*1024;r=Math.max(r,t*(t<n?2:1.125)>>>0),t!=0&&(r=Math.max(r,256));var a=e.contents;e.contents=new Uint8Array(r),e.usedBytes>0&&e.contents.set(a.subarray(0,e.usedBytes),0)}},resizeFileStorage(e,r){if(e.usedBytes!=r)if(r==0)e.contents=null,e.usedBytes=0;else{var t=e.contents;e.contents=new Uint8Array(r),t&&e.contents.set(t.subarray(0,Math.min(r,e.usedBytes))),e.usedBytes=r}},node_ops:{getattr(e){var r={};return r.dev=s.isChrdev(e.mode)?e.id:1,r.ino=e.id,r.mode=e.mode,r.nlink=1,r.uid=0,r.gid=0,r.rdev=e.rdev,s.isDir(e.mode)?r.size=4096:s.isFile(e.mode)?r.size=e.usedBytes:s.isLink(e.mode)?r.size=e.link.length:r.size=0,r.atime=new Date(e.atime),r.mtime=new Date(e.mtime),r.ctime=new Date(e.ctime),r.blksize=4096,r.blocks=Math.ceil(r.size/r.blksize),r},setattr(e,r){for(const t of["mode","atime","mtime","ctime"])r[t]!=null&&(e[t]=r[t]);r.size!==void 0&&A.resizeFileStorage(e,r.size)},lookup(e,r){throw A.doesNotExistError},mknod(e,r,t,n){return A.createNode(e,r,t,n)},rename(e,r,t){var n;try{n=s.lookupNode(r,t)}catch{}if(n){if(s.isDir(e.mode))for(var a in n.contents)throw new s.ErrnoError(55);s.hashRemoveNode(n)}delete e.parent.contents[e.name],r.contents[t]=e,e.name=t,r.ctime=r.mtime=e.parent.ctime=e.parent.mtime=Date.now()},unlink(e,r){delete e.contents[r],e.ctime=e.mtime=Date.now()},rmdir(e,r){var t=s.lookupNode(e,r);for(var n in t.contents)throw new s.ErrnoError(55);delete e.contents[r],e.ctime=e.mtime=Date.now()},readdir(e){return[".","..",...Object.keys(e.contents)]},symlink(e,r,t){var n=A.createNode(e,r,41471,0);return n.link=t,n},readlink(e){if(!s.isLink(e.mode))throw new s.ErrnoError(28);return e.link}},stream_ops:{read(e,r,t,n,a){var i=e.node.contents;if(a>=e.node.usedBytes)return 0;var o=Math.min(e.node.usedBytes-a,n);if(o>8&&i.subarray)r.set(i.subarray(a,a+o),t);else for(var l=0;l<o;l++)r[t+l]=i[a+l];return o},write(e,r,t,n,a,i){if(!n)return 0;var o=e.node;if(o.mtime=o.ctime=Date.now(),r.subarray&&(!o.contents||o.contents.subarray)){if(i)return o.contents=r.subarray(t,t+n),o.usedBytes=n,n;if(o.usedBytes===0&&a===0)return o.contents=r.slice(t,t+n),o.usedBytes=n,n;if(a+n<=o.usedBytes)return o.contents.set(r.subarray(t,t+n),a),n}if(A.expandFileStorage(o,a+n),o.contents.subarray&&r.subarray)o.contents.set(r.subarray(t,t+n),a);else for(var l=0;l<n;l++)o.contents[a+l]=r[t+l];return o.usedBytes=Math.max(o.usedBytes,a+n),n},llseek(e,r,t){var n=r;if(t===1?n+=e.position:t===2&&s.isFile(e.node.mode)&&(n+=e.node.usedBytes),n<0)throw new s.ErrnoError(28);return n},allocate(e,r,t){A.expandFileStorage(e.node,r+t),e.node.usedBytes=Math.max(e.node.usedBytes,r+t)},mmap(e,r,t,n,a){if(!s.isFile(e.node.mode))throw new s.ErrnoError(43);var i,o,l=e.node.contents;if(!(a&2)&&l&&l.buffer===B.buffer)o=!1,i=l.byteOffset;else{if(o=!0,i=_t(r),!i)throw new s.ErrnoError(48);l&&((t>0||t+r<l.length)&&(l.subarray?l=l.subarray(t,t+r):l=Array.prototype.slice.call(l,t,t+r)),B.set(l,i))}return{ptr:i,allocated:o}},msync(e,r,t,n,a){return A.stream_ops.write(e,r,0,n,t,!1),0}}},li=async e=>{var r=await ir(e);return new Uint8Array(r)},ci=(e,r,t,n,a,i)=>{s.createDataFile(e,r,t,n,a,i)},pr=u.preloadPlugins||[],ui=(e,r,t,n)=>{typeof y<"u"&&y.init();var a=!1;return pr.forEach(i=>{a||i.canHandle(r)&&(i.handle(e,r,t,n),a=!0)}),a},fi=(e,r,t,n,a,i,o,l,f,v)=>{var _=r?we.resolve(N.join2(e,r)):e;function g(E){function p(h){v?.(),l||ci(e,r,h,n,a,f),i?.(),Ne()}ui(E,_,p,()=>{o?.(),Ne()})||p(E)}sr(),typeof t=="string"?li(t).then(g,o):g(t)},mi=e=>{var r={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},t=r[e];if(typeof t>"u")throw new Error(`Unknown file open mode: ${e}`);return t},hr=(e,r)=>{var t=0;return e&&(t|=365),r&&(t|=146),t},I={dbs:{},indexedDB:()=>{if(typeof indexedDB<"u")return indexedDB;var e=null;return typeof window=="object"&&(e=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB),e},DB_VERSION:21,DB_STORE_NAME:"FILE_DATA",queuePersist:e=>{function r(){e.idbPersistState==="again"?t():e.idbPersistState=0}function t(){e.idbPersistState="idb",I.syncfs(e,!1,r)}e.idbPersistState?e.idbPersistState==="idb"&&(e.idbPersistState="again"):e.idbPersistState=setTimeout(t,0)},mount:e=>{var r=A.mount(e);if(e?.opts?.autoPersist){r.idbPersistState=0;var t=r.node_ops;r.node_ops=Object.assign({},r.node_ops),r.node_ops.mknod=(n,a,i,o)=>{var l=t.mknod(n,a,i,o);return l.node_ops=r.node_ops,l.idbfs_mount=r.mount,l.memfs_stream_ops=l.stream_ops,l.stream_ops=Object.assign({},l.stream_ops),l.stream_ops.write=(f,v,_,g,E,p)=>(f.node.isModified=!0,l.memfs_stream_ops.write(f,v,_,g,E,p)),l.stream_ops.close=f=>{var v=f.node;if(v.isModified&&(I.queuePersist(v.idbfs_mount),v.isModified=!1),v.memfs_stream_ops.close)return v.memfs_stream_ops.close(f)},l},r.node_ops.mkdir=(...n)=>(I.queuePersist(r.mount),t.mkdir(...n)),r.node_ops.rmdir=(...n)=>(I.queuePersist(r.mount),t.rmdir(...n)),r.node_ops.symlink=(...n)=>(I.queuePersist(r.mount),t.symlink(...n)),r.node_ops.unlink=(...n)=>(I.queuePersist(r.mount),t.unlink(...n)),r.node_ops.rename=(...n)=>(I.queuePersist(r.mount),t.rename(...n))}return r},syncfs:(e,r,t)=>{I.getLocalSet(e,(n,a)=>{if(n)return t(n);I.getRemoteSet(e,(i,o)=>{if(i)return t(i);var l=r?o:a,f=r?a:o;I.reconcile(l,f,t)})})},quit:()=>{Object.values(I.dbs).forEach(e=>e.close()),I.dbs={}},getDB:(e,r)=>{var t=I.dbs[e];if(t)return r(null,t);var n;try{n=I.indexedDB().open(e,I.DB_VERSION)}catch(a){return r(a)}if(!n)return r("Unable to connect to IndexedDB");n.onupgradeneeded=a=>{var i=a.target.result,o=a.target.transaction,l;i.objectStoreNames.contains(I.DB_STORE_NAME)?l=o.objectStore(I.DB_STORE_NAME):l=i.createObjectStore(I.DB_STORE_NAME),l.indexNames.contains("timestamp")||l.createIndex("timestamp","timestamp",{unique:!1})},n.onsuccess=()=>{t=n.result,I.dbs[e]=t,r(null,t)},n.onerror=a=>{r(a.target.error),a.preventDefault()}},getLocalSet:(e,r)=>{var t={};function n(f){return f!=="."&&f!==".."}function a(f){return v=>N.join2(f,v)}for(var i=s.readdir(e.mountpoint).filter(n).map(a(e.mountpoint));i.length;){var o=i.pop(),l;try{l=s.stat(o)}catch(f){return r(f)}s.isDir(l.mode)&&i.push(...s.readdir(o).filter(n).map(a(o))),t[o]={timestamp:l.mtime}}return r(null,{type:"local",entries:t})},getRemoteSet:(e,r)=>{var t={};I.getDB(e.mountpoint,(n,a)=>{if(n)return r(n);try{var i=a.transaction([I.DB_STORE_NAME],"readonly");i.onerror=f=>{r(f.target.error),f.preventDefault()};var o=i.objectStore(I.DB_STORE_NAME),l=o.index("timestamp");l.openKeyCursor().onsuccess=f=>{var v=f.target.result;if(!v)return r(null,{type:"remote",db:a,entries:t});t[v.primaryKey]={timestamp:v.key},v.continue()}}catch(f){return r(f)}})},loadLocalEntry:(e,r)=>{var t,n;try{var a=s.lookupPath(e);n=a.node,t=s.stat(e)}catch(i){return r(i)}return s.isDir(t.mode)?r(null,{timestamp:t.mtime,mode:t.mode}):s.isFile(t.mode)?(n.contents=A.getFileDataAsTypedArray(n),r(null,{timestamp:t.mtime,mode:t.mode,contents:n.contents})):r(new Error("node type not supported"))},storeLocalEntry:(e,r,t)=>{try{if(s.isDir(r.mode))s.mkdirTree(e,r.mode);else if(s.isFile(r.mode))s.writeFile(e,r.contents,{canOwn:!0});else return t(new Error("node type not supported"));s.chmod(e,r.mode),s.utime(e,r.timestamp,r.timestamp)}catch(n){return t(n)}t(null)},removeLocalEntry:(e,r)=>{try{var t=s.stat(e);s.isDir(t.mode)?s.rmdir(e):s.isFile(t.mode)&&s.unlink(e)}catch(n){return r(n)}r(null)},loadRemoteEntry:(e,r,t)=>{var n=e.get(r);n.onsuccess=a=>t(null,a.target.result),n.onerror=a=>{t(a.target.error),a.preventDefault()}},storeRemoteEntry:(e,r,t,n)=>{try{var a=e.put(t,r)}catch(i){n(i);return}a.onsuccess=i=>n(),a.onerror=i=>{n(i.target.error),i.preventDefault()}},removeRemoteEntry:(e,r,t)=>{var n=e.delete(r);n.onsuccess=a=>t(),n.onerror=a=>{t(a.target.error),a.preventDefault()}},reconcile:(e,r,t)=>{var n=0,a=[];Object.keys(e.entries).forEach(g=>{var E=e.entries[g],p=r.entries[g];(!p||E.timestamp.getTime()!=p.timestamp.getTime())&&(a.push(g),n++)});var i=[];if(Object.keys(r.entries).forEach(g=>{e.entries[g]||(i.push(g),n++)}),!n)return t(null);var o=!1,l=e.type==="remote"?e.db:r.db,f=l.transaction([I.DB_STORE_NAME],"readwrite"),v=f.objectStore(I.DB_STORE_NAME);function _(g){if(g&&!o)return o=!0,t(g)}f.onerror=f.onabort=g=>{_(g.target.error),g.preventDefault()},f.oncomplete=g=>{o||t(null)},a.sort().forEach(g=>{r.type==="local"?I.loadRemoteEntry(v,g,(E,p)=>{if(E)return _(E);I.storeLocalEntry(g,p,_)}):I.loadLocalEntry(g,(E,p)=>{if(E)return _(E);I.storeRemoteEntry(v,g,p,_)})}),i.sort().reverse().forEach(g=>{r.type==="local"?I.removeLocalEntry(g,_):I.removeRemoteEntry(v,g,_)})}},s={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,filesystems:null,syncFSRequests:0,readFiles:{},ErrnoError:class{name="ErrnoError";constructor(e){this.errno=e}},FSStream:class{shared={};get object(){return this.node}set object(e){this.node=e}get isRead(){return(this.flags&2097155)!==1}get isWrite(){return(this.flags&2097155)!==0}get isAppend(){return this.flags&1024}get flags(){return this.shared.flags}set flags(e){this.shared.flags=e}get position(){return this.shared.position}set position(e){this.shared.position=e}},FSNode:class{node_ops={};stream_ops={};readMode=365;writeMode=146;mounted=null;constructor(e,r,t,n){e||(e=this),this.parent=e,this.mount=e.mount,this.id=s.nextInode++,this.name=r,this.mode=t,this.rdev=n,this.atime=this.mtime=this.ctime=Date.now()}get read(){return(this.mode&this.readMode)===this.readMode}set read(e){e?this.mode|=this.readMode:this.mode&=~this.readMode}get write(){return(this.mode&this.writeMode)===this.writeMode}set write(e){e?this.mode|=this.writeMode:this.mode&=~this.writeMode}get isFolder(){return s.isDir(this.mode)}get isDevice(){return s.isChrdev(this.mode)}},lookupPath(e,r={}){if(!e)throw new s.ErrnoError(44);r.follow_mount??=!0,N.isAbs(e)||(e=s.cwd()+"/"+e);e:for(var t=0;t<40;t++){for(var n=e.split("/").filter(v=>!!v),a=s.root,i="/",o=0;o<n.length;o++){var l=o===n.length-1;if(l&&r.parent)break;if(n[o]!=="."){if(n[o]===".."){i=N.dirname(i),a=a.parent;continue}i=N.join2(i,n[o]);try{a=s.lookupNode(a,n[o])}catch(v){if(v?.errno===44&&l&&r.noent_okay)return{path:i};throw v}if(s.isMountpoint(a)&&(!l||r.follow_mount)&&(a=a.mounted.root),s.isLink(a.mode)&&(!l||r.follow)){if(!a.node_ops.readlink)throw new s.ErrnoError(52);var f=a.node_ops.readlink(a);N.isAbs(f)||(f=N.dirname(i)+"/"+f),e=f+"/"+n.slice(o+1).join("/");continue e}}}return{path:i,node:a}}throw new s.ErrnoError(32)},getPath(e){for(var r;;){if(s.isRoot(e)){var t=e.mount.mountpoint;return r?t[t.length-1]!=="/"?`${t}/${r}`:t+r:t}r=r?`${e.name}/${r}`:e.name,e=e.parent}},hashName(e,r){for(var t=0,n=0;n<r.length;n++)t=(t<<5)-t+r.charCodeAt(n)|0;return(e+t>>>0)%s.nameTable.length},hashAddNode(e){var r=s.hashName(e.parent.id,e.name);e.name_next=s.nameTable[r],s.nameTable[r]=e},hashRemoveNode(e){var r=s.hashName(e.parent.id,e.name);if(s.nameTable[r]===e)s.nameTable[r]=e.name_next;else for(var t=s.nameTable[r];t;){if(t.name_next===e){t.name_next=e.name_next;break}t=t.name_next}},lookupNode(e,r){var t=s.mayLookup(e);if(t)throw new s.ErrnoError(t);for(var n=s.hashName(e.id,r),a=s.nameTable[n];a;a=a.name_next){var i=a.name;if(a.parent.id===e.id&&i===r)return a}return s.lookup(e,r)},createNode(e,r,t,n){var a=new s.FSNode(e,r,t,n);return s.hashAddNode(a),a},destroyNode(e){s.hashRemoveNode(e)},isRoot(e){return e===e.parent},isMountpoint(e){return!!e.mounted},isFile(e){return(e&61440)===32768},isDir(e){return(e&61440)===16384},isLink(e){return(e&61440)===40960},isChrdev(e){return(e&61440)===8192},isBlkdev(e){return(e&61440)===24576},isFIFO(e){return(e&61440)===4096},isSocket(e){return(e&49152)===49152},flagsToPermissionString(e){var r=["r","w","rw"][e&3];return e&512&&(r+="w"),r},nodePermissions(e,r){return s.ignorePermissions?0:r.includes("r")&&!(e.mode&292)||r.includes("w")&&!(e.mode&146)||r.includes("x")&&!(e.mode&73)?2:0},mayLookup(e){if(!s.isDir(e.mode))return 54;var r=s.nodePermissions(e,"x");return r||(e.node_ops.lookup?0:2)},mayCreate(e,r){if(!s.isDir(e.mode))return 54;try{var t=s.lookupNode(e,r);return 20}catch{}return s.nodePermissions(e,"wx")},mayDelete(e,r,t){var n;try{n=s.lookupNode(e,r)}catch(i){return i.errno}var a=s.nodePermissions(e,"wx");if(a)return a;if(t){if(!s.isDir(n.mode))return 54;if(s.isRoot(n)||s.getPath(n)===s.cwd())return 10}else if(s.isDir(n.mode))return 31;return 0},mayOpen(e,r){return e?s.isLink(e.mode)?32:s.isDir(e.mode)&&(s.flagsToPermissionString(r)!=="r"||r&576)?31:s.nodePermissions(e,s.flagsToPermissionString(r)):44},checkOpExists(e,r){if(!e)throw new s.ErrnoError(r);return e},MAX_OPEN_FDS:4096,nextfd(){for(var e=0;e<=s.MAX_OPEN_FDS;e++)if(!s.streams[e])return e;throw new s.ErrnoError(33)},getStreamChecked(e){var r=s.getStream(e);if(!r)throw new s.ErrnoError(8);return r},getStream:e=>s.streams[e],createStream(e,r=-1){return e=Object.assign(new s.FSStream,e),r==-1&&(r=s.nextfd()),e.fd=r,s.streams[r]=e,e},closeStream(e){s.streams[e]=null},dupStream(e,r=-1){var t=s.createStream(e,r);return t.stream_ops?.dup?.(t),t},doSetAttr(e,r,t){var n=e?.stream_ops.setattr,a=n?e:r;n??=r.node_ops.setattr,s.checkOpExists(n,63),n(a,t)},chrdev_stream_ops:{open(e){var r=s.getDevice(e.node.rdev);e.stream_ops=r.stream_ops,e.stream_ops.open?.(e)},llseek(){throw new s.ErrnoError(70)}},major:e=>e>>8,minor:e=>e&255,makedev:(e,r)=>e<<8|r,registerDevice(e,r){s.devices[e]={stream_ops:r}},getDevice:e=>s.devices[e],getMounts(e){for(var r=[],t=[e];t.length;){var n=t.pop();r.push(n),t.push(...n.mounts)}return r},syncfs(e,r){typeof e=="function"&&(r=e,e=!1),s.syncFSRequests++,s.syncFSRequests>1&&Q(`warning: ${s.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var t=s.getMounts(s.root.mount),n=0;function a(o){return s.syncFSRequests--,r(o)}function i(o){if(o)return i.errored?void 0:(i.errored=!0,a(o));++n>=t.length&&a(null)}t.forEach(o=>{if(!o.type.syncfs)return i(null);o.type.syncfs(o,e,i)})},mount(e,r,t){var n=t==="/",a=!t,i;if(n&&s.root)throw new s.ErrnoError(10);if(!n&&!a){var o=s.lookupPath(t,{follow_mount:!1});if(t=o.path,i=o.node,s.isMountpoint(i))throw new s.ErrnoError(10);if(!s.isDir(i.mode))throw new s.ErrnoError(54)}var l={type:e,opts:r,mountpoint:t,mounts:[]},f=e.mount(l);return f.mount=l,l.root=f,n?s.root=f:i&&(i.mounted=l,i.mount&&i.mount.mounts.push(l)),f},unmount(e){var r=s.lookupPath(e,{follow_mount:!1});if(!s.isMountpoint(r.node))throw new s.ErrnoError(28);var t=r.node,n=t.mounted,a=s.getMounts(n);Object.keys(s.nameTable).forEach(o=>{for(var l=s.nameTable[o];l;){var f=l.name_next;a.includes(l.mount)&&s.destroyNode(l),l=f}}),t.mounted=null;var i=t.mount.mounts.indexOf(n);t.mount.mounts.splice(i,1)},lookup(e,r){return e.node_ops.lookup(e,r)},mknod(e,r,t){var n=s.lookupPath(e,{parent:!0}),a=n.node,i=N.basename(e);if(!i)throw new s.ErrnoError(28);if(i==="."||i==="..")throw new s.ErrnoError(20);var o=s.mayCreate(a,i);if(o)throw new s.ErrnoError(o);if(!a.node_ops.mknod)throw new s.ErrnoError(63);return a.node_ops.mknod(a,i,r,t)},statfs(e){return s.statfsNode(s.lookupPath(e,{follow:!0}).node)},statfsStream(e){return s.statfsNode(e.node)},statfsNode(e){var r={bsize:4096,frsize:4096,blocks:1e6,bfree:5e5,bavail:5e5,files:s.nextInode,ffree:s.nextInode-1,fsid:42,flags:2,namelen:255};return e.node_ops.statfs&&Object.assign(r,e.node_ops.statfs(e.mount.opts.root)),r},create(e,r=438){return r&=4095,r|=32768,s.mknod(e,r,0)},mkdir(e,r=511){return r&=1023,r|=16384,s.mknod(e,r,0)},mkdirTree(e,r){for(var t=e.split("/"),n="",a=0;a<t.length;++a)if(t[a]){n+="/"+t[a];try{s.mkdir(n,r)}catch(i){if(i.errno!=20)throw i}}},mkdev(e,r,t){return typeof t>"u"&&(t=r,r=438),r|=8192,s.mknod(e,r,t)},symlink(e,r){if(!we.resolve(e))throw new s.ErrnoError(44);var t=s.lookupPath(r,{parent:!0}),n=t.node;if(!n)throw new s.ErrnoError(44);var a=N.basename(r),i=s.mayCreate(n,a);if(i)throw new s.ErrnoError(i);if(!n.node_ops.symlink)throw new s.ErrnoError(63);return n.node_ops.symlink(n,a,e)},rename(e,r){var t=N.dirname(e),n=N.dirname(r),a=N.basename(e),i=N.basename(r),o,l,f;if(o=s.lookupPath(e,{parent:!0}),l=o.node,o=s.lookupPath(r,{parent:!0}),f=o.node,!l||!f)throw new s.ErrnoError(44);if(l.mount!==f.mount)throw new s.ErrnoError(75);var v=s.lookupNode(l,a),_=we.relative(e,n);if(_.charAt(0)!==".")throw new s.ErrnoError(28);if(_=we.relative(r,t),_.charAt(0)!==".")throw new s.ErrnoError(55);var g;try{g=s.lookupNode(f,i)}catch{}if(v!==g){var E=s.isDir(v.mode),p=s.mayDelete(l,a,E);if(p)throw new s.ErrnoError(p);if(p=g?s.mayDelete(f,i,E):s.mayCreate(f,i),p)throw new s.ErrnoError(p);if(!l.node_ops.rename)throw new s.ErrnoError(63);if(s.isMountpoint(v)||g&&s.isMountpoint(g))throw new s.ErrnoError(10);if(f!==l&&(p=s.nodePermissions(l,"w"),p))throw new s.ErrnoError(p);s.hashRemoveNode(v);try{l.node_ops.rename(v,f,i),v.parent=f}catch(h){throw h}finally{s.hashAddNode(v)}}},rmdir(e){var r=s.lookupPath(e,{parent:!0}),t=r.node,n=N.basename(e),a=s.lookupNode(t,n),i=s.mayDelete(t,n,!0);if(i)throw new s.ErrnoError(i);if(!t.node_ops.rmdir)throw new s.ErrnoError(63);if(s.isMountpoint(a))throw new s.ErrnoError(10);t.node_ops.rmdir(t,n),s.destroyNode(a)},readdir(e){var r=s.lookupPath(e,{follow:!0}),t=r.node,n=s.checkOpExists(t.node_ops.readdir,54);return n(t)},unlink(e){var r=s.lookupPath(e,{parent:!0}),t=r.node;if(!t)throw new s.ErrnoError(44);var n=N.basename(e),a=s.lookupNode(t,n),i=s.mayDelete(t,n,!1);if(i)throw new s.ErrnoError(i);if(!t.node_ops.unlink)throw new s.ErrnoError(63);if(s.isMountpoint(a))throw new s.ErrnoError(10);t.node_ops.unlink(t,n),s.destroyNode(a)},readlink(e){var r=s.lookupPath(e),t=r.node;if(!t)throw new s.ErrnoError(44);if(!t.node_ops.readlink)throw new s.ErrnoError(28);return t.node_ops.readlink(t)},stat(e,r){var t=s.lookupPath(e,{follow:!r}),n=t.node,a=s.checkOpExists(n.node_ops.getattr,63);return a(n)},fstat(e){var r=s.getStreamChecked(e),t=r.node,n=r.stream_ops.getattr,a=n?r:t;return n??=t.node_ops.getattr,s.checkOpExists(n,63),n(a)},lstat(e){return s.stat(e,!0)},doChmod(e,r,t,n){s.doSetAttr(e,r,{mode:t&4095|r.mode&-4096,ctime:Date.now(),dontFollow:n})},chmod(e,r,t){var n;if(typeof e=="string"){var a=s.lookupPath(e,{follow:!t});n=a.node}else n=e;s.doChmod(null,n,r,t)},lchmod(e,r){s.chmod(e,r,!0)},fchmod(e,r){var t=s.getStreamChecked(e);s.doChmod(t,t.node,r,!1)},doChown(e,r,t){s.doSetAttr(e,r,{timestamp:Date.now(),dontFollow:t})},chown(e,r,t,n){var a;if(typeof e=="string"){var i=s.lookupPath(e,{follow:!n});a=i.node}else a=e;s.doChown(null,a,n)},lchown(e,r,t){s.chown(e,r,t,!0)},fchown(e,r,t){var n=s.getStreamChecked(e);s.doChown(n,n.node,!1)},doTruncate(e,r,t){if(s.isDir(r.mode))throw new s.ErrnoError(31);if(!s.isFile(r.mode))throw new s.ErrnoError(28);var n=s.nodePermissions(r,"w");if(n)throw new s.ErrnoError(n);s.doSetAttr(e,r,{size:t,timestamp:Date.now()})},truncate(e,r){if(r<0)throw new s.ErrnoError(28);var t;if(typeof e=="string"){var n=s.lookupPath(e,{follow:!0});t=n.node}else t=e;s.doTruncate(null,t,r)},ftruncate(e,r){var t=s.getStreamChecked(e);if(r<0||(t.flags&2097155)===0)throw new s.ErrnoError(28);s.doTruncate(t,t.node,r)},utime(e,r,t){var n=s.lookupPath(e,{follow:!0}),a=n.node,i=s.checkOpExists(a.node_ops.setattr,63);i(a,{atime:r,mtime:t})},open(e,r,t=438){if(e==="")throw new s.ErrnoError(44);r=typeof r=="string"?mi(r):r,r&64?t=t&4095|32768:t=0;var n,a;if(typeof e=="object")n=e;else{a=e.endsWith("/");var i=s.lookupPath(e,{follow:!(r&131072),noent_okay:!0});n=i.node,e=i.path}var o=!1;if(r&64)if(n){if(r&128)throw new s.ErrnoError(20)}else{if(a)throw new s.ErrnoError(31);n=s.mknod(e,t|511,0),o=!0}if(!n)throw new s.ErrnoError(44);if(s.isChrdev(n.mode)&&(r&=-513),r&65536&&!s.isDir(n.mode))throw new s.ErrnoError(54);if(!o){var l=s.mayOpen(n,r);if(l)throw new s.ErrnoError(l)}r&512&&!o&&s.truncate(n,0),r&=-131713;var f=s.createStream({node:n,path:s.getPath(n),flags:r,seekable:!0,position:0,stream_ops:n.stream_ops,ungotten:[],error:!1});return f.stream_ops.open&&f.stream_ops.open(f),o&&s.chmod(n,t&511),u.logReadFiles&&!(r&1)&&(e in s.readFiles||(s.readFiles[e]=1)),f},close(e){if(s.isClosed(e))throw new s.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(r){throw r}finally{s.closeStream(e.fd)}e.fd=null},isClosed(e){return e.fd===null},llseek(e,r,t){if(s.isClosed(e))throw new s.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new s.ErrnoError(70);if(t!=0&&t!=1&&t!=2)throw new s.ErrnoError(28);return e.position=e.stream_ops.llseek(e,r,t),e.ungotten=[],e.position},read(e,r,t,n,a){if(n<0||a<0)throw new s.ErrnoError(28);if(s.isClosed(e))throw new s.ErrnoError(8);if((e.flags&2097155)===1)throw new s.ErrnoError(8);if(s.isDir(e.node.mode))throw new s.ErrnoError(31);if(!e.stream_ops.read)throw new s.ErrnoError(28);var i=typeof a<"u";if(!i)a=e.position;else if(!e.seekable)throw new s.ErrnoError(70);var o=e.stream_ops.read(e,r,t,n,a);return i||(e.position+=o),o},write(e,r,t,n,a,i){if(n<0||a<0)throw new s.ErrnoError(28);if(s.isClosed(e))throw new s.ErrnoError(8);if((e.flags&2097155)===0)throw new s.ErrnoError(8);if(s.isDir(e.node.mode))throw new s.ErrnoError(31);if(!e.stream_ops.write)throw new s.ErrnoError(28);e.seekable&&e.flags&1024&&s.llseek(e,0,2);var o=typeof a<"u";if(!o)a=e.position;else if(!e.seekable)throw new s.ErrnoError(70);var l=e.stream_ops.write(e,r,t,n,a,i);return o||(e.position+=l),l},allocate(e,r,t){if(s.isClosed(e))throw new s.ErrnoError(8);if(r<0||t<=0)throw new s.ErrnoError(28);if((e.flags&2097155)===0)throw new s.ErrnoError(8);if(!s.isFile(e.node.mode)&&!s.isDir(e.node.mode))throw new s.ErrnoError(43);if(!e.stream_ops.allocate)throw new s.ErrnoError(138);e.stream_ops.allocate(e,r,t)},mmap(e,r,t,n,a){if((n&2)!==0&&(a&2)===0&&(e.flags&2097155)!==2)throw new s.ErrnoError(2);if((e.flags&2097155)===1)throw new s.ErrnoError(2);if(!e.stream_ops.mmap)throw new s.ErrnoError(43);if(!r)throw new s.ErrnoError(28);return e.stream_ops.mmap(e,r,t,n,a)},msync(e,r,t,n,a){return e.stream_ops.msync?e.stream_ops.msync(e,r,t,n,a):0},ioctl(e,r,t){if(!e.stream_ops.ioctl)throw new s.ErrnoError(59);return e.stream_ops.ioctl(e,r,t)},readFile(e,r={}){if(r.flags=r.flags||0,r.encoding=r.encoding||"binary",r.encoding!=="utf8"&&r.encoding!=="binary")throw new Error(`Invalid encoding type "${r.encoding}"`);var t,n=s.open(e,r.flags),a=s.stat(e),i=a.size,o=new Uint8Array(i);return s.read(n,o,0,i,0),r.encoding==="utf8"?t=Ee(o):r.encoding==="binary"&&(t=o),s.close(n),t},writeFile(e,r,t={}){t.flags=t.flags||577;var n=s.open(e,t.flags,t.mode);if(typeof r=="string"){var a=new Uint8Array(ke(r)+1),i=_r(r,a,0,a.length);s.write(n,a,0,i,void 0,t.canOwn)}else if(ArrayBuffer.isView(r))s.write(n,r,0,r.byteLength,void 0,t.canOwn);else throw new Error("Unsupported data type");s.close(n)},cwd:()=>s.currentPath,chdir(e){var r=s.lookupPath(e,{follow:!0});if(r.node===null)throw new s.ErrnoError(44);if(!s.isDir(r.node.mode))throw new s.ErrnoError(54);var t=s.nodePermissions(r.node,"x");if(t)throw new s.ErrnoError(t);s.currentPath=r.path},createDefaultDirectories(){s.mkdir("/tmp"),s.mkdir("/home"),s.mkdir("/home/web_user")},createDefaultDevices(){s.mkdir("/dev"),s.registerDevice(s.makedev(1,3),{read:()=>0,write:(n,a,i,o,l)=>o,llseek:()=>0}),s.mkdev("/dev/null",s.makedev(1,3)),ve.register(s.makedev(5,0),ve.default_tty_ops),ve.register(s.makedev(6,0),ve.default_tty1_ops),s.mkdev("/dev/tty",s.makedev(5,0)),s.mkdev("/dev/tty1",s.makedev(6,0));var e=new Uint8Array(1024),r=0,t=()=>(r===0&&(vt(e),r=e.byteLength),e[--r]);s.createDevice("/dev","random",t),s.createDevice("/dev","urandom",t),s.mkdir("/dev/shm"),s.mkdir("/dev/shm/tmp")},createSpecialDirectories(){s.mkdir("/proc");var e=s.mkdir("/proc/self");s.mkdir("/proc/self/fd"),s.mount({mount(){var r=s.createNode(e,"fd",16895,73);return r.stream_ops={llseek:A.stream_ops.llseek},r.node_ops={lookup(t,n){var a=+n,i=s.getStreamChecked(a),o={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>i.path},id:a+1};return o.parent=o,o},readdir(){return Array.from(s.streams.entries()).filter(([t,n])=>n).map(([t,n])=>t.toString())}},r}},{},"/proc/self/fd")},createStandardStreams(e,r,t){e?s.createDevice("/dev","stdin",e):s.symlink("/dev/tty","/dev/stdin"),r?s.createDevice("/dev","stdout",null,r):s.symlink("/dev/tty","/dev/stdout"),t?s.createDevice("/dev","stderr",null,t):s.symlink("/dev/tty1","/dev/stderr"),s.open("/dev/stdin",0),s.open("/dev/stdout",1),s.open("/dev/stderr",1)},staticInit(){s.nameTable=new Array(4096),s.mount(A,{},"/"),s.createDefaultDirectories(),s.createDefaultDevices(),s.createSpecialDirectories(),s.filesystems={MEMFS:A,IDBFS:I}},init(e,r,t){s.initialized=!0,e??=u.stdin,r??=u.stdout,t??=u.stderr,s.createStandardStreams(e,r,t)},quit(){s.initialized=!1;for(var e=0;e<s.streams.length;e++){var r=s.streams[e];r&&s.close(r)}},findObject(e,r){var t=s.analyzePath(e,r);return t.exists?t.object:null},analyzePath(e,r){try{var t=s.lookupPath(e,{follow:!r});e=t.path}catch{}var n={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var t=s.lookupPath(e,{parent:!0});n.parentExists=!0,n.parentPath=t.path,n.parentObject=t.node,n.name=N.basename(e),t=s.lookupPath(e,{follow:!r}),n.exists=!0,n.path=t.path,n.object=t.node,n.name=t.node.name,n.isRoot=t.path==="/"}catch(a){n.error=a.errno}return n},createPath(e,r,t,n){e=typeof e=="string"?e:s.getPath(e);for(var a=r.split("/").reverse();a.length;){var i=a.pop();if(i){var o=N.join2(e,i);try{s.mkdir(o)}catch(l){if(l.errno!=20)throw l}e=o}}return o},createFile(e,r,t,n,a){var i=N.join2(typeof e=="string"?e:s.getPath(e),r),o=hr(n,a);return s.create(i,o)},createDataFile(e,r,t,n,a,i){var o=r;e&&(e=typeof e=="string"?e:s.getPath(e),o=r?N.join2(e,r):e);var l=hr(n,a),f=s.create(o,l);if(t){if(typeof t=="string"){for(var v=new Array(t.length),_=0,g=t.length;_<g;++_)v[_]=t.charCodeAt(_);t=v}s.chmod(f,l|146);var E=s.open(f,577);s.write(E,t,0,t.length,0,i),s.close(E),s.chmod(f,l)}},createDevice(e,r,t,n){var a=N.join2(typeof e=="string"?e:s.getPath(e),r),i=hr(!!t,!!n);s.createDevice.major??=64;var o=s.makedev(s.createDevice.major++,0);return s.registerDevice(o,{open(l){l.seekable=!1},close(l){n?.buffer?.length&&n(10)},read(l,f,v,_,g){for(var E=0,p=0;p<_;p++){var h;try{h=t()}catch{throw new s.ErrnoError(29)}if(h===void 0&&E===0)throw new s.ErrnoError(6);if(h==null)break;E++,f[v+p]=h}return E&&(l.node.atime=Date.now()),E},write(l,f,v,_,g){for(var E=0;E<_;E++)try{n(f[v+E])}catch{throw new s.ErrnoError(29)}return _&&(l.node.mtime=l.node.ctime=Date.now()),E}}),s.mkdev(a,i,o)},forceLoadFile(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");try{e.contents=Re(e.url),e.usedBytes=e.contents.length}catch{throw new s.ErrnoError(29)}},createLazyFile(e,r,t,n,a){class i{lengthKnown=!1;chunks=[];get(p){if(!(p>this.length-1||p<0)){var h=p%this.chunkSize,F=p/this.chunkSize|0;return this.getter(F)[h]}}setDataGetter(p){this.getter=p}cacheLength(){var p=new XMLHttpRequest;if(p.open("HEAD",t,!1),p.send(null),!(p.status>=200&&p.status<300||p.status===304))throw new Error("Couldn't load "+t+". Status: "+p.status);var h=Number(p.getResponseHeader("Content-length")),F,U=(F=p.getResponseHeader("Accept-Ranges"))&&F==="bytes",D=(F=p.getResponseHeader("Content-Encoding"))&&F==="gzip",H=1024*1024;U||(H=h);var j=(Y,ie)=>{if(Y>ie)throw new Error("invalid range ("+Y+", "+ie+") or no bytes requested!");if(ie>h-1)throw new Error("only "+h+" bytes available! programmer error!");var X=new XMLHttpRequest;if(X.open("GET",t,!1),h!==H&&X.setRequestHeader("Range","bytes="+Y+"-"+ie),X.responseType="arraybuffer",X.overrideMimeType&&X.overrideMimeType("text/plain; charset=x-user-defined"),X.send(null),!(X.status>=200&&X.status<300||X.status===304))throw new Error("Couldn't load "+t+". Status: "+X.status);return X.response!==void 0?new Uint8Array(X.response||[]):gr(X.responseText||"",!0)},q=this;q.setDataGetter(Y=>{var ie=Y*H,X=(Y+1)*H-1;if(X=Math.min(X,h-1),typeof q.chunks[Y]>"u"&&(q.chunks[Y]=j(ie,X)),typeof q.chunks[Y]>"u")throw new Error("doXHR failed!");return q.chunks[Y]}),(D||!h)&&(H=h=1,h=this.getter(0).length,H=h,Ue("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=h,this._chunkSize=H,this.lengthKnown=!0}get length(){return this.lengthKnown||this.cacheLength(),this._length}get chunkSize(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}if(typeof XMLHttpRequest<"u"){if(!fe)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var o=new i,l={isDevice:!1,contents:o}}else var l={isDevice:!1,url:t};var f=s.createFile(e,r,l,n,a);l.contents?f.contents=l.contents:l.url&&(f.contents=null,f.url=l.url),Object.defineProperties(f,{usedBytes:{get:function(){return this.contents.length}}});var v={},_=Object.keys(f.stream_ops);_.forEach(E=>{var p=f.stream_ops[E];v[E]=(...h)=>(s.forceLoadFile(f),p(...h))});function g(E,p,h,F,U){var D=E.node.contents;if(U>=D.length)return 0;var H=Math.min(D.length-U,F);if(D.slice)for(var j=0;j<H;j++)p[h+j]=D[U+j];else for(var j=0;j<H;j++)p[h+j]=D.get(U+j);return H}return v.read=(E,p,h,F,U)=>(s.forceLoadFile(f),g(E,p,h,F,U)),v.mmap=(E,p,h,F,U)=>{s.forceLoadFile(f);var D=_t(p);if(!D)throw new s.ErrnoError(48);return g(E,B,D,p,h),{ptr:D,allocated:!0}},f.stream_ops=v,f}},L={DEFAULT_POLLMASK:5,calculateAt(e,r,t){if(N.isAbs(r))return r;var n;if(e===-100)n=s.cwd();else{var a=L.getStreamFromFD(e);n=a.path}if(r.length==0){if(!t)throw new s.ErrnoError(44);return n}return n+"/"+r},writeStat(e,r){m[e>>2]=r.dev,m[e+4>>2]=r.mode,P[e+8>>2]=r.nlink,m[e+12>>2]=r.uid,m[e+16>>2]=r.gid,m[e+20>>2]=r.rdev,$[e+24>>3]=BigInt(r.size),m[e+32>>2]=4096,m[e+36>>2]=r.blocks;var t=r.atime.getTime(),n=r.mtime.getTime(),a=r.ctime.getTime();return $[e+40>>3]=BigInt(Math.floor(t/1e3)),P[e+48>>2]=t%1e3*1e3*1e3,$[e+56>>3]=BigInt(Math.floor(n/1e3)),P[e+64>>2]=n%1e3*1e3*1e3,$[e+72>>3]=BigInt(Math.floor(a/1e3)),P[e+80>>2]=a%1e3*1e3*1e3,$[e+88>>3]=BigInt(r.ino),0},writeStatFs(e,r){m[e+4>>2]=r.bsize,m[e+40>>2]=r.bsize,m[e+8>>2]=r.blocks,m[e+12>>2]=r.bfree,m[e+16>>2]=r.bavail,m[e+20>>2]=r.files,m[e+24>>2]=r.ffree,m[e+28>>2]=r.fsid,m[e+44>>2]=r.flags,m[e+36>>2]=r.namelen},doMsync(e,r,t,n,a){if(!s.isFile(r.node.mode))throw new s.ErrnoError(43);if(n&2)return 0;var i=ee.slice(e,e+t);s.msync(r,i,a,t,n)},getStreamFromFD(e){var r=s.getStreamChecked(e);return r},varargs:void 0,getStr(e){var r=W(e);return r}};function gt(e,r,t){if(x)return k(3,0,1,e,r,t);L.varargs=t;try{var n=L.getStreamFromFD(e);switch(r){case 0:{var a=ze();if(a<0)return-28;for(;s.streams[a];)a++;var i;return i=s.dupStream(n,a),i.fd}case 1:case 2:return 0;case 3:return n.flags;case 4:{var a=ze();return n.flags|=a,0}case 12:{var a=ye(),o=0;return le[a+o>>1]=2,0}case 13:case 14:return 0}return-28}catch(l){if(typeof s>"u"||l.name!=="ErrnoError")throw l;return-l.errno}}function pt(e,r){if(x)return k(4,0,1,e,r);try{return L.writeStat(r,s.fstat(e))}catch(t){if(typeof s>"u"||t.name!=="ErrnoError")throw t;return-t.errno}}function ht(e,r){if(x)return k(5,0,1,e,r);r=be(r);try{return isNaN(r)?61:(s.ftruncate(e,r),0)}catch(t){if(typeof s>"u"||t.name!=="ErrnoError")throw t;return-t.errno}}var V=(e,r,t)=>_r(e,ee,r,t);function xt(e,r){if(x)return k(6,0,1,e,r);try{if(r===0)return-28;var t=s.cwd(),n=ke(t)+1;return r<n?-68:(V(t,e,r),n)}catch(a){if(typeof s>"u"||a.name!=="ErrnoError")throw a;return-a.errno}}function bt(e,r,t){if(x)return k(7,0,1,e,r,t);try{var n=L.getStreamFromFD(e);n.getdents||=s.readdir(n.path);for(var a=280,i=0,o=s.llseek(n,0,1),l=Math.floor(o/a),f=Math.min(n.getdents.length,l+Math.floor(t/a)),v=l;v<f;v++){var _,g,E=n.getdents[v];if(E===".")_=n.node.id,g=4;else if(E===".."){var p=s.lookupPath(n.path,{parent:!0});_=p.node.id,g=4}else{var h;try{h=s.lookupNode(n.node,E)}catch(F){if(F?.errno===28)continue;throw F}_=h.id,g=s.isChrdev(h.mode)?2:s.isDir(h.mode)?4:s.isLink(h.mode)?10:8}$[r+i>>3]=BigInt(_),$[r+i+8>>3]=BigInt((v+1)*a),le[r+i+16>>1]=280,B[r+i+18]=g,V(E,r+i+19,256),i+=a}return s.llseek(n,v*a,0),i}catch(F){if(typeof s>"u"||F.name!=="ErrnoError")throw F;return-F.errno}}function Et(e,r,t){if(x)return k(8,0,1,e,r,t);L.varargs=t;try{var n=L.getStreamFromFD(e);switch(r){case 21509:return n.tty?0:-59;case 21505:{if(!n.tty)return-59;if(n.tty.ops.ioctl_tcgets){var a=n.tty.ops.ioctl_tcgets(n),i=ye();m[i>>2]=a.c_iflag||0,m[i+4>>2]=a.c_oflag||0,m[i+8>>2]=a.c_cflag||0,m[i+12>>2]=a.c_lflag||0;for(var o=0;o<32;o++)B[i+o+17]=a.c_cc[o]||0;return 0}return 0}case 21510:case 21511:case 21512:return n.tty?0:-59;case 21506:case 21507:case 21508:{if(!n.tty)return-59;if(n.tty.ops.ioctl_tcsets){for(var i=ye(),l=m[i>>2],f=m[i+4>>2],v=m[i+8>>2],_=m[i+12>>2],g=[],o=0;o<32;o++)g.push(B[i+o+17]);return n.tty.ops.ioctl_tcsets(n.tty,r,{c_iflag:l,c_oflag:f,c_cflag:v,c_lflag:_,c_cc:g})}return 0}case 21519:{if(!n.tty)return-59;var i=ye();return m[i>>2]=0,0}case 21520:return n.tty?-28:-59;case 21531:{var i=ye();return s.ioctl(n,r,i)}case 21523:{if(!n.tty)return-59;if(n.tty.ops.ioctl_tiocgwinsz){var E=n.tty.ops.ioctl_tiocgwinsz(n.tty),i=ye();le[i>>1]=E[0],le[i+2>>1]=E[1]}return 0}case 21524:return n.tty?0:-59;case 21515:return n.tty?0:-59;default:return-28}}catch(p){if(typeof s>"u"||p.name!=="ErrnoError")throw p;return-p.errno}}function yt(e,r){if(x)return k(9,0,1,e,r);try{return e=L.getStr(e),L.writeStat(r,s.lstat(e))}catch(t){if(typeof s>"u"||t.name!=="ErrnoError")throw t;return-t.errno}}function wt(e,r,t){if(x)return k(10,0,1,e,r,t);try{return r=L.getStr(r),r=L.calculateAt(e,r),s.mkdir(r,t,0),0}catch(n){if(typeof s>"u"||n.name!=="ErrnoError")throw n;return-n.errno}}function kt(e,r,t,n){if(x)return k(11,0,1,e,r,t,n);try{r=L.getStr(r);var a=n&256,i=n&4096;return n=n&-6401,r=L.calculateAt(e,r,i),L.writeStat(t,a?s.lstat(r):s.stat(r))}catch(o){if(typeof s>"u"||o.name!=="ErrnoError")throw o;return-o.errno}}function St(e,r,t,n){if(x)return k(12,0,1,e,r,t,n);L.varargs=n;try{r=L.getStr(r),r=L.calculateAt(e,r);var a=n?ze():0;return s.open(r,t,a).fd}catch(i){if(typeof s>"u"||i.name!=="ErrnoError")throw i;return-i.errno}}function Ct(e,r,t,n){if(x)return k(13,0,1,e,r,t,n);try{if(r=L.getStr(r),r=L.calculateAt(e,r),n<=0)return-28;var a=s.readlink(r),i=Math.min(n,ke(a)),o=B[t+i];return V(a,t,n+1),B[t+i]=o,i}catch(l){if(typeof s>"u"||l.name!=="ErrnoError")throw l;return-l.errno}}function At(e){if(x)return k(14,0,1,e);try{return e=L.getStr(e),s.rmdir(e),0}catch(r){if(typeof s>"u"||r.name!=="ErrnoError")throw r;return-r.errno}}function Ft(e,r){if(x)return k(15,0,1,e,r);try{return e=L.getStr(e),L.writeStat(r,s.stat(e))}catch(t){if(typeof s>"u"||t.name!=="ErrnoError")throw t;return-t.errno}}function Dt(e,r,t){if(x)return k(16,0,1,e,r,t);try{return r=L.getStr(r),r=L.calculateAt(e,r),t===0?s.unlink(r):t===512?s.rmdir(r):de("Invalid flags passed to unlinkat"),0}catch(n){if(typeof s>"u"||n.name!=="ErrnoError")throw n;return-n.errno}}var Bt=e=>P[e>>2]+m[e+4>>2]*4294967296;function Pt(e,r,t,n){if(x)return k(17,0,1,e,r,t,n);try{r=L.getStr(r),r=L.calculateAt(e,r,!0);var a=Date.now(),i,o;if(!t)i=a,o=a;else{var l=Bt(t),f=m[t+8>>2];f==1073741823?i=a:f==1073741822?i=null:i=l*1e3+f/1e6,t+=16,l=Bt(t),f=m[t+8>>2],f==1073741823?o=a:f==1073741822?o=null:o=l*1e3+f/1e6}return(o??i)!==null&&s.utime(r,i,o),0}catch(v){if(typeof s>"u"||v.name!=="ErrnoError")throw v;return-v.errno}}var di=()=>de(""),vi=e=>{Ur(e,!fe,1,!zr,65536,!1),M.threadInitTLS()},Tt=()=>{if(!ur())try{x?Or(xe):We(xe)}catch(e){mr(e)}},xr=e=>{if(!he)try{e(),Tt()}catch(r){mr(r)}},br=e=>{if(typeof Atomics.waitAsync=="function"){var r=Atomics.waitAsync(m,e>>2,e);r.value.then(je);var t=e+128;Atomics.store(m,t>>2,1)}},je=()=>{var e=Ie();e&&(br(e),xr(Ba))},_i=(e,r)=>{if(e==r)setTimeout(je);else if(x)postMessage({targetThread:e,cmd:"checkMailbox"});else{var t=M.pthreads[e];if(!t)return;t.postMessage({cmd:"checkMailbox"})}},qe=[],gi=(e,r,t,n,a)=>{n/=2,qe.length=n;for(var i=a>>3,o=0;o<n;o++)$[i+2*o]?qe[o]=$[i+2*o+1]:qe[o]=K[i+2*o+1];var l=r?cr[r]:wg[e];M.currentProxiedOperationCallerThread=t;var f=l(...qe);return M.currentProxiedOperationCallerThread=0,f},Lt=()=>{dr=!1,Fe=0},pi=e=>{x?postMessage({cmd:"cleanupThread",thread:e}):tt(e)},hi=e=>{},xi=()=>{throw 1/0},bi=e=>e%4===0&&(e%100!==0||e%400===0),Ei=[0,31,60,91,121,152,182,213,244,274,305,335],yi=[0,31,59,90,120,151,181,212,243,273,304,334],Mt=e=>{var r=bi(e.getFullYear()),t=r?Ei:yi,n=t[e.getMonth()]+e.getDate()-1;return n};function wi(e,r){e=be(e);var t=new Date(e*1e3);m[r>>2]=t.getSeconds(),m[r+4>>2]=t.getMinutes(),m[r+8>>2]=t.getHours(),m[r+12>>2]=t.getDate(),m[r+16>>2]=t.getMonth(),m[r+20>>2]=t.getFullYear()-1900,m[r+24>>2]=t.getDay();var n=Mt(t)|0;m[r+28>>2]=n,m[r+36>>2]=-(t.getTimezoneOffset()*60);var a=new Date(t.getFullYear(),0,1),i=new Date(t.getFullYear(),6,1).getTimezoneOffset(),o=a.getTimezoneOffset(),l=(i!=o&&t.getTimezoneOffset()==Math.min(o,i))|0;m[r+32>>2]=l}var ki=function(e){var r=(()=>{var t=new Date(m[e+20>>2]+1900,m[e+16>>2],m[e+12>>2],m[e+8>>2],m[e+4>>2],m[e>>2],0),n=m[e+32>>2],a=t.getTimezoneOffset(),i=new Date(t.getFullYear(),0,1),o=new Date(t.getFullYear(),6,1).getTimezoneOffset(),l=i.getTimezoneOffset(),f=Math.min(l,o);if(n<0)m[e+32>>2]=+(o!=l&&f==a);else if(n>0!=(f==a)){var v=Math.max(l,o),_=n>0?f:v;t.setTime(t.getTime()+(_-a)*6e4)}m[e+24>>2]=t.getDay();var g=Mt(t)|0;m[e+28>>2]=g,m[e>>2]=t.getSeconds(),m[e+4>>2]=t.getMinutes(),m[e+8>>2]=t.getHours(),m[e+12>>2]=t.getDate(),m[e+16>>2]=t.getMonth(),m[e+20>>2]=t.getYear();var E=t.getTime();return isNaN(E)?-1:E/1e3})();return BigInt(r)};function Gt(e,r,t,n,a,i,o){if(x)return k(18,0,1,e,r,t,n,a,i,o);a=be(a);try{if(isNaN(a))return 61;var l=L.getStreamFromFD(n),f=s.mmap(l,e,a,r,t),v=f.ptr;return m[i>>2]=f.allocated,P[o>>2]=v,0}catch(_){if(typeof s>"u"||_.name!=="ErrnoError")throw _;return-_.errno}}function It(e,r,t,n,a,i){if(x)return k(19,0,1,e,r,t,n,a,i);i=be(i);try{return isNaN(i)?61:(L.doMsync(e,L.getStreamFromFD(a),r,n,i),0)}catch(o){if(typeof s>"u"||o.name!=="ErrnoError")throw o;return-o.errno}}function Rt(e,r,t,n,a,i){if(x)return k(20,0,1,e,r,t,n,a,i);i=be(i);try{var o=L.getStreamFromFD(a);t&2&&L.doMsync(e,o,r,n,i)}catch(l){if(typeof s>"u"||l.name!=="ErrnoError")throw l;return-l.errno}}var Si=(e,r,t,n)=>{var a=new Date().getFullYear(),i=new Date(a,0,1),o=new Date(a,6,1),l=i.getTimezoneOffset(),f=o.getTimezoneOffset(),v=Math.max(l,f);P[e>>2]=v*60,m[r>>2]=+(l!=f);var _=p=>{var h=p>=0?"-":"+",F=Math.abs(p),U=String(Math.floor(F/60)).padStart(2,"0"),D=String(F%60).padStart(2,"0");return`UTC${h}${U}${D}`},g=_(l),E=_(f);f<l?(V(g,t,17),V(E,n,17)):(V(g,n,17),V(E,t,17))},Xe=()=>performance.timeOrigin+performance.now(),Ut=()=>Date.now(),Ci=e=>e>=0&&e<=3;function Ai(e,r,t){if(!Ci(e))return 28;var n;e===0?n=Ut():n=Xe();var a=Math.round(n*1e3*1e3);return $[t>>3]=BigInt(a),0}var Er=()=>{Fe+=1},Ot=()=>{Fe-=1},Nt=(e,r)=>(Er(),setTimeout(()=>{Ot(),xr(e)},r)),y={useWebGL:!1,isFullscreen:!1,pointerLock:!1,moduleContextCreatedCallbacks:[],workers:[],preloadedImages:{},preloadedAudios:{},getCanvas:()=>u.canvas,init(){if(y.initted)return;y.initted=!0;var e={};e.canHandle=function(i){return!u.noImageDecoding&&/\.(jpg|jpeg|png|bmp|webp)$/i.test(i)},e.handle=function(i,o,l,f){var v=new Blob([i],{type:y.getMimetype(o)});v.size!==i.length&&(v=new Blob([new Uint8Array(i).buffer],{type:y.getMimetype(o)}));var _=URL.createObjectURL(v),g=new Image;g.onload=()=>{var E=document.createElement("canvas");E.width=g.width,E.height=g.height;var p=E.getContext("2d");p.drawImage(g,0,0),y.preloadedImages[o]=E,URL.revokeObjectURL(_),l?.(i)},g.onerror=E=>{Q(`Image ${_} could not be decoded`),f?.()},g.src=_},pr.push(e);var r={};r.canHandle=function(i){return!u.noAudioDecoding&&i.slice(-4)in{".ogg":1,".wav":1,".mp3":1}},r.handle=function(i,o,l,f){var v=!1;function _(h){v||(v=!0,y.preloadedAudios[o]=h,l?.(i))}var g=new Blob([i],{type:y.getMimetype(o)}),E=URL.createObjectURL(g),p=new Audio;p.addEventListener("canplaythrough",()=>_(p),!1),p.onerror=function(F){if(v)return;Q(`warning: browser could not fully decode audio ${o}, trying slower base64 approach`);function U(D){for(var H="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",j="=",q="",Y=0,ie=0,X=0;X<D.length;X++)for(Y=Y<<8|D[X],ie+=8;ie>=6;){var Ig=Y>>ie-6&63;ie-=6,q+=H[Ig]}return ie==2?(q+=H[(Y&3)<<4],q+=j+j):ie==4&&(q+=H[(Y&15)<<2],q+=j),q}p.src="data:audio/x-"+o.slice(-3)+";base64,"+U(i),_(p)},p.src=E,Nt(()=>{_(p)},1e4)},pr.push(r);function t(){var a=y.getCanvas();y.pointerLock=document.pointerLockElement===a||document.mozPointerLockElement===a||document.webkitPointerLockElement===a||document.msPointerLockElement===a}var n=y.getCanvas();n&&(n.requestPointerLock=n.requestPointerLock||n.mozRequestPointerLock||n.webkitRequestPointerLock||n.msRequestPointerLock||(()=>{}),n.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock||document.msExitPointerLock||(()=>{}),n.exitPointerLock=n.exitPointerLock.bind(document),document.addEventListener("pointerlockchange",t,!1),document.addEventListener("mozpointerlockchange",t,!1),document.addEventListener("webkitpointerlockchange",t,!1),document.addEventListener("mspointerlockchange",t,!1),u.elementPointerLock&&n.addEventListener("click",a=>{!y.pointerLock&&y.getCanvas().requestPointerLock&&(y.getCanvas().requestPointerLock(),a.preventDefault())},!1))},createContext(e,r,t,n){if(r&&u.ctx&&e==y.getCanvas())return u.ctx;var a,i;if(r){var o={antialias:!1,alpha:!1,majorVersion:2};if(n)for(var l in n)o[l]=n[l];typeof d<"u"&&(i=d.createContext(e,o),i&&(a=d.getContext(i).GLctx))}else a=e.getContext("2d");return a?(t&&(u.ctx=a,r&&d.makeContextCurrent(i),y.useWebGL=r,y.moduleContextCreatedCallbacks.forEach(f=>f()),y.init()),a):null},fullscreenHandlersInstalled:!1,lockPointer:void 0,resizeCanvas:void 0,requestFullscreen(e,r){y.lockPointer=e,y.resizeCanvas=r,typeof y.lockPointer>"u"&&(y.lockPointer=!0),typeof y.resizeCanvas>"u"&&(y.resizeCanvas=!1);var t=y.getCanvas();function n(){y.isFullscreen=!1;var i=t.parentNode;(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===i?(t.exitFullscreen=y.exitFullscreen,y.lockPointer&&t.requestPointerLock(),y.isFullscreen=!0,y.resizeCanvas?y.setFullscreenCanvasSize():y.updateCanvasDimensions(t)):(i.parentNode.insertBefore(t,i),i.parentNode.removeChild(i),y.resizeCanvas?y.setWindowedCanvasSize():y.updateCanvasDimensions(t)),u.onFullScreen?.(y.isFullscreen),u.onFullscreen?.(y.isFullscreen)}y.fullscreenHandlersInstalled||(y.fullscreenHandlersInstalled=!0,document.addEventListener("fullscreenchange",n,!1),document.addEventListener("mozfullscreenchange",n,!1),document.addEventListener("webkitfullscreenchange",n,!1),document.addEventListener("MSFullscreenChange",n,!1));var a=document.createElement("div");t.parentNode.insertBefore(a,t),a.appendChild(t),a.requestFullscreen=a.requestFullscreen||a.mozRequestFullScreen||a.msRequestFullscreen||(a.webkitRequestFullscreen?()=>a.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):null)||(a.webkitRequestFullScreen?()=>a.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT):null),a.requestFullscreen()},exitFullscreen(){if(!y.isFullscreen)return!1;var e=document.exitFullscreen||document.cancelFullScreen||document.mozCancelFullScreen||document.msExitFullscreen||document.webkitCancelFullScreen||(()=>{});return e.apply(document,[]),!0},safeSetTimeout(e,r){return Nt(e,r)},getMimetype(e){return{jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",bmp:"image/bmp",ogg:"audio/ogg",wav:"audio/wav",mp3:"audio/mpeg"}[e.slice(e.lastIndexOf(".")+1)]},getUserMedia(e){window.getUserMedia||=navigator.getUserMedia||navigator.mozGetUserMedia,window.getUserMedia(e)},getMovementX(e){return e.movementX||e.mozMovementX||e.webkitMovementX||0},getMovementY(e){return e.movementY||e.mozMovementY||e.webkitMovementY||0},getMouseWheelDelta(e){var r=0;switch(e.type){case"DOMMouseScroll":r=e.detail/3;break;case"mousewheel":r=e.wheelDelta/120;break;case"wheel":switch(r=e.deltaY,e.deltaMode){case 0:r/=100;break;case 1:r/=3;break;case 2:r*=80;break;default:throw"unrecognized mouse wheel delta mode: "+e.deltaMode}break;default:throw"unrecognized mouse wheel event: "+e.type}return r},mouseX:0,mouseY:0,mouseMovementX:0,mouseMovementY:0,touches:{},lastTouches:{},calculateMouseCoords(e,r){var t=y.getCanvas(),n=t.getBoundingClientRect(),a=typeof window.scrollX<"u"?window.scrollX:window.pageXOffset,i=typeof window.scrollY<"u"?window.scrollY:window.pageYOffset,o=e-(a+n.left),l=r-(i+n.top);return o=o*(t.width/n.width),l=l*(t.height/n.height),{x:o,y:l}},setMouseCoords(e,r){const{x:t,y:n}=y.calculateMouseCoords(e,r);y.mouseMovementX=t-y.mouseX,y.mouseMovementY=n-y.mouseY,y.mouseX=t,y.mouseY=n},calculateMouseEvent(e){if(y.pointerLock)e.type!="mousemove"&&"mozMovementX"in e?y.mouseMovementX=y.mouseMovementY=0:(y.mouseMovementX=y.getMovementX(e),y.mouseMovementY=y.getMovementY(e)),y.mouseX+=y.mouseMovementX,y.mouseY+=y.mouseMovementY;else{if(e.type==="touchstart"||e.type==="touchend"||e.type==="touchmove"){var r=e.touch;if(r===void 0)return;var t=y.calculateMouseCoords(r.pageX,r.pageY);if(e.type==="touchstart")y.lastTouches[r.identifier]=t,y.touches[r.identifier]=t;else if(e.type==="touchend"||e.type==="touchmove"){var n=y.touches[r.identifier];n||=t,y.lastTouches[r.identifier]=n,y.touches[r.identifier]=t}return}y.setMouseCoords(e.pageX,e.pageY)}},resizeListeners:[],updateResizeListeners(){var e=y.getCanvas();y.resizeListeners.forEach(r=>r(e.width,e.height))},setCanvasSize(e,r,t){var n=y.getCanvas();y.updateCanvasDimensions(n,e,r),t||y.updateResizeListeners()},windowedWidth:0,windowedHeight:0,setFullscreenCanvasSize(){if(typeof SDL<"u"){var e=P[SDL.screen>>2];e=e|8388608,m[SDL.screen>>2]=e}y.updateCanvasDimensions(y.getCanvas()),y.updateResizeListeners()},setWindowedCanvasSize(){if(typeof SDL<"u"){var e=P[SDL.screen>>2];e=e&-8388609,m[SDL.screen>>2]=e}y.updateCanvasDimensions(y.getCanvas()),y.updateResizeListeners()},updateCanvasDimensions(e,r,t){r&&t?(e.widthNative=r,e.heightNative=t):(r=e.widthNative,t=e.heightNative);var n=r,a=t;if(u.forcedAspectRatio>0&&(n/a<u.forcedAspectRatio?n=Math.round(a*u.forcedAspectRatio):a=Math.round(n/u.forcedAspectRatio)),(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===e.parentNode&&typeof screen<"u"){var i=Math.min(screen.width/n,screen.height/a);n=Math.round(n*i),a=Math.round(a*i)}y.resizeCanvas?(e.width!=n&&(e.width=n),e.height!=a&&(e.height=a),typeof e.style<"u"&&(e.style.removeProperty("width"),e.style.removeProperty("height"))):(e.width!=r&&(e.width=r),e.height!=t&&(e.height=t),typeof e.style<"u"&&(n!=r||a!=t?(e.style.setProperty("width",n+"px","important"),e.style.setProperty("height",a+"px","important")):(e.style.removeProperty("width"),e.style.removeProperty("height"))))}},w={errorCode:12288,defaultDisplayInitialized:!1,currentContext:0,currentReadSurface:0,currentDrawSurface:0,contextAttributes:{alpha:!1,depth:!1,stencil:!1,antialias:!1},stringCache:{},setErrorCode(e){w.errorCode=e},chooseConfig(e,r,t,n,a){if(e!=62e3)return w.setErrorCode(12296),0;if(r)for(;;){var i=m[r>>2];if(i==12321){var o=m[r+4>>2];w.contextAttributes.alpha=o>0}else if(i==12325){var l=m[r+4>>2];w.contextAttributes.depth=l>0}else if(i==12326){var f=m[r+4>>2];w.contextAttributes.stencil=f>0}else if(i==12337){var v=m[r+4>>2];w.contextAttributes.antialias=v>0}else if(i==12338){var v=m[r+4>>2];w.contextAttributes.antialias=v==1}else if(i==12544){var _=m[r+4>>2];w.contextAttributes.lowLatency=_!=12547}else if(i==12344)break;r+=8}return(!t||!n)&&!a?(w.setErrorCode(12300),0):(a&&(m[a>>2]=1),t&&n>0&&(P[t>>2]=62002),w.setErrorCode(12288),1)}};function Vt(e){return x?k(21,0,1,e):e==12448?(w.setErrorCode(12288),1):(w.setErrorCode(12300),0)}function Wt(e,r,t,n,a){return x?k(22,0,1,e,r,t,n,a):w.chooseConfig(e,r,t,n,a)}var c,Fi=e=>!!(e.dibvbi=e.getExtension("WEBGL_draw_instanced_base_vertex_base_instance")),Di=e=>!!(e.mdibvbi=e.getExtension("WEBGL_multi_draw_instanced_base_vertex_base_instance")),Bi=e=>!!(e.extPolygonOffsetClamp=e.getExtension("EXT_polygon_offset_clamp")),Pi=e=>!!(e.extClipControl=e.getExtension("EXT_clip_control")),Ti=e=>!!(e.webglPolygonMode=e.getExtension("WEBGL_polygon_mode")),Li=e=>!!(e.multiDrawWebgl=e.getExtension("WEBGL_multi_draw")),zt=e=>{var r=["EXT_color_buffer_float","EXT_conservative_depth","EXT_disjoint_timer_query_webgl2","EXT_texture_norm16","NV_shader_noperspective_interpolation","WEBGL_clip_cull_distance","EXT_clip_control","EXT_color_buffer_half_float","EXT_depth_clamp","EXT_float_blend","EXT_polygon_offset_clamp","EXT_texture_compression_bptc","EXT_texture_compression_rgtc","EXT_texture_filter_anisotropic","KHR_parallel_shader_compile","OES_texture_float_linear","WEBGL_blend_func_extended","WEBGL_compressed_texture_astc","WEBGL_compressed_texture_etc","WEBGL_compressed_texture_etc1","WEBGL_compressed_texture_s3tc","WEBGL_compressed_texture_s3tc_srgb","WEBGL_debug_renderer_info","WEBGL_debug_shaders","WEBGL_lose_context","WEBGL_multi_draw","WEBGL_polygon_mode"];return(e.getSupportedExtensions()||[]).filter(t=>r.includes(t))},d={counter:1,buffers:[],programs:[],framebuffers:[],renderbuffers:[],textures:[],shaders:[],vaos:[],contexts:{},offscreenCanvases:{},queries:[],samplers:[],transformFeedbacks:[],syncs:[],stringCache:{},stringiCache:{},unpackAlignment:4,unpackRowLength:0,recordError:e=>{d.lastError||(d.lastError=e)},getNewId:e=>{for(var r=d.counter++,t=e.length;t<r;t++)e[t]=null;return r},genObject:(e,r,t,n)=>{for(var a=0;a<e;a++){var i=c[t](),o=i&&d.getNewId(n);i?(i.name=o,n[o]=i):d.recordError(1282),m[r+a*4>>2]=o}},getSource:(e,r,t,n)=>{for(var a="",i=0;i<r;++i){var o=n?P[n+i*4>>2]:void 0;a+=W(P[t+i*4>>2],o)}return a},createContext:(e,r)=>{if(!e.getContextSafariWebGL2Fixed){let a=function(i,o){var l=e.getContextSafariWebGL2Fixed(i,o);return i=="webgl"==l instanceof WebGLRenderingContext?l:null};e.getContextSafariWebGL2Fixed=e.getContext,e.getContext=a}var t=e.getContext("webgl2",r);if(!t)return 0;var n=d.registerContext(t,r);return n},registerContext:(e,r)=>{var t=z(8);P[t+4>>2]=Ie();var n={handle:t,attributes:r,version:r.majorVersion,GLctx:e};return e.canvas&&(e.canvas.GLctxObject=n),d.contexts[t]=n,(typeof r.enableExtensionsByDefault>"u"||r.enableExtensionsByDefault)&&d.initExtensions(n),t},makeContextCurrent:e=>(d.currentContext=d.contexts[e],u.ctx=c=d.currentContext?.GLctx,!(e&&!c)),getContext:e=>d.contexts[e],deleteContext:e=>{d.currentContext===d.contexts[e]&&(d.currentContext=null),typeof b=="object"&&b.removeAllHandlersOnTarget(d.contexts[e].GLctx.canvas),d.contexts[e]?.GLctx.canvas&&(d.contexts[e].GLctx.canvas.GLctxObject=void 0),ka(d.contexts[e].handle),d.contexts[e]=null},initExtensions:e=>{if(e||=d.currentContext,!e.initExtensionsDone){e.initExtensionsDone=!0;var r=e.GLctx;Li(r),Bi(r),Pi(r),Ti(r),Fi(r),Di(r),e.version>=2&&(r.disjointTimerQueryExt=r.getExtension("EXT_disjoint_timer_query_webgl2")),(e.version<2||!r.disjointTimerQueryExt)&&(r.disjointTimerQueryExt=r.getExtension("EXT_disjoint_timer_query")),zt(r).forEach(t=>{!t.includes("lose_context")&&!t.includes("debug")&&r.getExtension(t)})}}};function jt(e,r,t,n){if(x)return k(23,0,1,e,r,t,n);if(e!=62e3)return w.setErrorCode(12296),0;for(var a=1;;){var i=m[n>>2];if(i==12440)a=m[n+4>>2];else{if(i==12344)break;return w.setErrorCode(12292),0}n+=8}return a<2||a>3?(w.setErrorCode(12293),0):(w.contextAttributes.majorVersion=a-1,w.contextAttributes.minorVersion=0,w.context=d.createContext(y.getCanvas(),w.contextAttributes),w.context!=0?(w.setErrorCode(12288),d.makeContextCurrent(w.context),y.useWebGL=!0,y.moduleContextCreatedCallbacks.forEach(o=>o()),d.makeContextCurrent(null),62004):(w.setErrorCode(12297),0))}function qt(e,r,t,n){return x?k(24,0,1,e,r,t,n):e!=62e3?(w.setErrorCode(12296),0):r!=62002?(w.setErrorCode(12293),0):(w.setErrorCode(12288),62006)}function Xt(e,r){return x?k(25,0,1,e,r):e!=62e3?(w.setErrorCode(12296),0):r!=62004?(w.setErrorCode(12294),0):(d.deleteContext(w.context),w.setErrorCode(12288),w.currentContext==r&&(w.currentContext=0),1)}function Ht(e,r){return x?k(26,0,1,e,r):e!=62e3?(w.setErrorCode(12296),0):r!=62006?(w.setErrorCode(12301),1):(w.currentReadSurface==r&&(w.currentReadSurface=0),w.currentDrawSurface==r&&(w.currentDrawSurface=0),w.setErrorCode(12288),1)}function Qt(e,r,t,n){if(x)return k(27,0,1,e,r,t,n);if(e!=62e3)return w.setErrorCode(12296),0;if(r!=62002)return w.setErrorCode(12293),0;if(!n)return w.setErrorCode(12300),0;switch(w.setErrorCode(12288),t){case 12320:return m[n>>2]=w.contextAttributes.alpha?32:24,1;case 12321:return m[n>>2]=w.contextAttributes.alpha?8:0,1;case 12322:return m[n>>2]=8,1;case 12323:return m[n>>2]=8,1;case 12324:return m[n>>2]=8,1;case 12325:return m[n>>2]=w.contextAttributes.depth?24:0,1;case 12326:return m[n>>2]=w.contextAttributes.stencil?8:0,1;case 12327:return m[n>>2]=12344,1;case 12328:return m[n>>2]=62002,1;case 12329:return m[n>>2]=0,1;case 12330:return m[n>>2]=4096,1;case 12331:return m[n>>2]=16777216,1;case 12332:return m[n>>2]=4096,1;case 12333:return m[n>>2]=0,1;case 12334:return m[n>>2]=0,1;case 12335:return m[n>>2]=12344,1;case 12337:return m[n>>2]=w.contextAttributes.antialias?4:0,1;case 12338:return m[n>>2]=w.contextAttributes.antialias?1:0,1;case 12339:return m[n>>2]=4,1;case 12340:return m[n>>2]=12344,1;case 12341:case 12342:case 12343:return m[n>>2]=-1,1;case 12345:case 12346:return m[n>>2]=0,1;case 12347:return m[n>>2]=0,1;case 12348:return m[n>>2]=1,1;case 12349:case 12350:return m[n>>2]=0,1;case 12351:return m[n>>2]=12430,1;case 12352:return m[n>>2]=4,1;case 12354:return m[n>>2]=0,1;default:return w.setErrorCode(12292),0}}function Yt(e){return x?k(28,0,1,e):(w.setErrorCode(12288),e!=0&&e!=1?0:62e3)}function $t(){return x?k(29,0,1):w.errorCode}function Kt(e,r,t){return x?k(30,0,1,e,r,t):e!=62e3?(w.setErrorCode(12296),0):(r&&(m[r>>2]=1),t&&(m[t>>2]=4),w.defaultDisplayInitialized=!0,w.setErrorCode(12288),1)}function Jt(e,r,t,n){return x?k(31,0,1,e,r,t,n):e!=62e3?(w.setErrorCode(12296),0):n!=0&&n!=62004?(w.setErrorCode(12294),0):t!=0&&t!=62006||r!=0&&r!=62006?(w.setErrorCode(12301),0):(d.makeContextCurrent(n?w.context:null),w.currentContext=n,w.currentDrawSurface=r,w.currentReadSurface=t,w.setErrorCode(12288),1)}var ce=e=>{var r=ke(e)+1,t=z(r);return t&&V(e,t,r),t};function Zt(e,r){if(x)return k(32,0,1,e,r);if(e!=62e3)return w.setErrorCode(12296),0;if(w.setErrorCode(12288),w.stringCache[r])return w.stringCache[r];var t;switch(r){case 12371:t=ce("Emscripten");break;case 12372:t=ce("1.4 Emscripten EGL");break;case 12373:t=ce("");break;case 12429:t=ce("OpenGL_ES");break;default:return w.setErrorCode(12300),0}return w.stringCache[r]=t,t}function en(e,r){if(x)return k(33,0,1,e,r);if(!w.defaultDisplayInitialized)w.setErrorCode(12289);else if(!c)w.setErrorCode(12290);else if(c.isContextLost())w.setErrorCode(12302);else return w.setErrorCode(12288),1;return 0}var rn=(e,r,t,n,a)=>{S.func=e,S.arg=n;var i=S.currentlyRunningMainloop;function o(){return i<S.currentlyRunningMainloop?(Ot(),Tt(),!1):!0}if(S.running=!1,S.runner=function(){if(!he){if(S.queue.length>0){var f=S.queue.shift();if(f.func(f.arg),S.remainingBlockers){var v=S.remainingBlockers,_=v%1==0?v-1:Math.floor(v);f.counted?S.remainingBlockers=_:(_=_+.5,S.remainingBlockers=(8*v+_)/9)}if(S.updateStatus(),!o())return;setTimeout(S.runner,0);return}if(o()){if(S.currentFrameNumber=S.currentFrameNumber+1|0,S.timingMode==1&&S.timingValue>1&&S.currentFrameNumber%S.timingValue!=0){S.scheduler();return}else S.timingMode==0&&(S.tickStartTime=Xe());S.runIter(e),o()&&S.scheduler()}}},a||(r>0?Se(0,1e3/r):Se(1,1),S.scheduler()),t)throw"unwind"},S={running:!1,scheduler:null,method:"",currentlyRunningMainloop:0,func:null,arg:0,timingMode:0,timingValue:0,currentFrameNumber:0,queue:[],preMainLoop:[],postMainLoop:[],pause(){S.scheduler=null,S.currentlyRunningMainloop++},resume(){S.currentlyRunningMainloop++;var e=S.timingMode,r=S.timingValue,t=S.func;S.func=null,rn(t,0,!1,S.arg,!0),Se(e,r),S.scheduler()},updateStatus(){if(u.setStatus){var e=u.statusMessage||"Please wait...",r=S.remainingBlockers??0,t=S.expectedBlockers??0;r?r<t?u.setStatus("{message} ({expected - remaining}/{expected})"):u.setStatus(e):u.setStatus("")}},init(){u.preMainLoop&&S.preMainLoop.push(u.preMainLoop),u.postMainLoop&&S.postMainLoop.push(u.postMainLoop)},runIter(e){if(!he){for(var r of S.preMainLoop)if(r()===!1)return;xr(e);for(var t of S.postMainLoop)t()}},nextRAF:0,fakeRequestAnimationFrame(e){var r=Date.now();if(S.nextRAF===0)S.nextRAF=r+1e3/60;else for(;r+2>=S.nextRAF;)S.nextRAF+=1e3/60;var t=Math.max(S.nextRAF-r,0);setTimeout(e,t)},requestAnimationFrame(e){if(typeof requestAnimationFrame=="function"){requestAnimationFrame(e);return}var r=S.fakeRequestAnimationFrame;r(e)}},Se=(e,r)=>{if(S.timingMode=e,S.timingValue=r,!S.func)return 1;if(S.running||(Er(),S.running=!0),e==0)S.scheduler=function(){var o=Math.max(0,S.tickStartTime+r-Xe())|0;setTimeout(S.runner,o)},S.method="timeout";else if(e==1)S.scheduler=function(){S.requestAnimationFrame(S.runner)},S.method="rAF";else if(e==2){if(typeof S.setImmediate>"u")if(typeof setImmediate>"u"){var t=[],n="setimmediate",a=i=>{(i.data===n||i.data.target===n)&&(i.stopPropagation(),t.shift()())};addEventListener("message",a,!0),S.setImmediate=(i=>{t.push(i),fe?(u.setImmediates??=[],u.setImmediates.push(i),postMessage({target:n})):postMessage(n,"*")})}else S.setImmediate=setImmediate;S.scheduler=function(){S.setImmediate(S.runner)},S.method="immediate"}return 0};function tn(e,r){return x?k(34,0,1,e,r):e!=62e3?(w.setErrorCode(12296),0):(r==0?Se(0,0):Se(1,r),w.setErrorCode(12288),1)}function nn(e){return x?k(35,0,1,e):e!=62e3?(w.setErrorCode(12296),0):(w.currentContext=0,w.currentReadSurface=0,w.currentDrawSurface=0,w.defaultDisplayInitialized=!1,w.setErrorCode(12288),1)}function an(){return x?k(36,0,1):(w.setErrorCode(12288),1)}var Mi=an;function on(e){return x?k(37,0,1,e):(w.setErrorCode(12288),1)}var yr=[],sn=(e,r)=>{yr.length=0;for(var t;t=ee[e++];){var n=t!=105;n&=t!=112,r+=n&&r%8?4:0,yr.push(t==112?P[r>>2]:t==106?$[r>>3]:t==105?m[r>>2]:K[r>>3]),r+=n?8:4}return yr},Gi=(e,r,t)=>{var n=sn(r,t);return cr[e](...n)},Ii=(e,r,t)=>Gi(e,r,t),ln=(e,r,t,n)=>{var a=sn(r,t);return x?k(0,e,n,...a):cr[e](...a)},Ri=(e,r,t)=>ln(e,r,t,1),Ui=(e,r,t)=>ln(e,r,t,1),Oi=()=>{S.pause(),S.func=null},Ni=()=>{},b={memcpy(e,r,t){B.set(B.subarray(r,r+t),e)},removeAllEventListeners(){for(;b.eventHandlers.length;)b._removeHandler(b.eventHandlers.length-1);b.deferredCalls=[]},inEventHandler:0,deferredCalls:[],deferCall(e,r,t){function n(i,o){if(i.length!=o.length)return!1;for(var l in i)if(i[l]!=o[l])return!1;return!0}for(var a of b.deferredCalls)if(a.targetFunction==e&&n(a.argsList,t))return;b.deferredCalls.push({targetFunction:e,precedence:r,argsList:t}),b.deferredCalls.sort((i,o)=>i.precedence<o.precedence)},removeDeferredCalls(e){b.deferredCalls=b.deferredCalls.filter(r=>r.targetFunction!=e)},canPerformEventHandlerRequests(){return navigator.userActivation?navigator.userActivation.isActive:b.inEventHandler&&b.currentEventHandler.allowsDeferredCalls},runDeferredCalls(){if(b.canPerformEventHandlerRequests()){var e=b.deferredCalls;b.deferredCalls=[];for(var r of e)r.targetFunction(...r.argsList)}},eventHandlers:[],removeAllHandlersOnTarget:(e,r)=>{for(var t=0;t<b.eventHandlers.length;++t)b.eventHandlers[t].target==e&&(!r||r==b.eventHandlers[t].eventTypeString)&&b._removeHandler(t--)},_removeHandler(e){var r=b.eventHandlers[e];r.target.removeEventListener(r.eventTypeString,r.eventListenerFunc,r.useCapture),b.eventHandlers.splice(e,1)},registerOrRemoveHandler(e){if(!e.target)return-4;if(e.callbackfunc)e.eventListenerFunc=function(t){++b.inEventHandler,b.currentEventHandler=e,b.runDeferredCalls(),e.handlerFunc(t),b.runDeferredCalls(),--b.inEventHandler},e.target.addEventListener(e.eventTypeString,e.eventListenerFunc,e.useCapture),b.eventHandlers.push(e);else for(var r=0;r<b.eventHandlers.length;++r)b.eventHandlers[r].target==e.target&&b.eventHandlers[r].eventTypeString==e.eventTypeString&&b._removeHandler(r--);return 0},getTargetThreadForEventCallback(e){switch(e){case 1:return 0;case 2:return M.currentProxiedOperationCallerThread;default:return e}},getNodeNameForTarget(e){return e?e==window?"#window":e==screen?"#screen":e?.nodeName||"":""},fullscreenEnabled(){return document.fullscreenEnabled||document.webkitFullscreenEnabled}},ue={},Vi=e=>e>2?W(e):e,Be=[0,typeof document<"u"?document:0,typeof window<"u"?window:0],Z=e=>{e=Vi(e);var r=Be[e]||(typeof document<"u"?document.querySelector(e):null);return r},He=Z,cn=(e,r,t)=>{var n=He(e);if(!n)return-4;if(!n.controlTransferredOffscreen)m[r>>2]=n.width,m[t>>2]=n.height;else return-4;return 0};function un(e,r,t){return x?k(39,0,1,e,r,t):cn(e,r,t)}var Wi=(e,r,t)=>{var n=He(e);return n?cn(e,r,t):un(e,r,t)},wr=e=>{var r=ke(e)+1,t=Ve(r);return V(e,t,r),t},fn=e=>{var r=re(),t=Ve(8),n=t+4,a=wr(e.id);Wi(a,t,n);var i=[m[t>>2],m[n>>2]];return J(r),i},mn=(e,r,t)=>{var n=He(e);if(!n||n.controlTransferredOffscreen)return-4;var a=!1;if(n.GLctxObject?.GLctx){var i=n.GLctxObject.GLctx.getParameter(2978);a=i[0]===0&&i[1]===0&&i[2]===n.width&&i[3]===n.height}return n.width=r,n.height=t,a&&n.GLctxObject.GLctx.viewport(0,0,r,t),0};function dn(e,r,t){return x?k(40,0,1,e,r,t):mn(e,r,t)}var vn=(e,r,t)=>{var n=He(e);return n?mn(e,r,t):dn(e,r,t)},_n=(e,r,t)=>{if(!e.controlTransferredOffscreen)e.width=r,e.height=t;else{var n=re(),a=wr(e.id);vn(a,r,t),J(n)}},zi=e=>{var r=fn(e),t=r[0],n=r[1],a=e.style.width,i=e.style.height,o=e.style.backgroundColor,l=document.body.style.backgroundColor,f=e.style.paddingLeft,v=e.style.paddingRight,_=e.style.paddingTop,g=e.style.paddingBottom,E=e.style.marginLeft,p=e.style.marginRight,h=e.style.marginTop,F=e.style.marginBottom,U=document.body.style.margin,D=document.documentElement.style.overflow,H=document.body.scroll,j=e.style.imageRendering;function q(){var Y=document.fullscreenElement||document.webkitFullscreenElement;Y||(document.removeEventListener("fullscreenchange",q),document.removeEventListener("webkitfullscreenchange",q),_n(e,t,n),e.style.width=a,e.style.height=i,e.style.backgroundColor=o,l||(document.body.style.backgroundColor="white"),document.body.style.backgroundColor=l,e.style.paddingLeft=f,e.style.paddingRight=v,e.style.paddingTop=_,e.style.paddingBottom=g,e.style.marginLeft=E,e.style.marginRight=p,e.style.marginTop=h,e.style.marginBottom=F,document.body.style.margin=U,document.documentElement.style.overflow=D,document.body.scroll=H,e.style.imageRendering=j,e.GLctxObject&&e.GLctxObject.GLctx.viewport(0,0,t,n),ue.canvasResizedCallback&&(ue.canvasResizedCallbackTargetThread?ae(ue.canvasResizedCallbackTargetThread,ue.canvasResizedCallback,37,0,ue.canvasResizedCallbackUserData):O(ue.canvasResizedCallback)(37,0,ue.canvasResizedCallbackUserData)))}return document.addEventListener("fullscreenchange",q),document.addEventListener("webkitfullscreenchange",q),q},kr=(e,r,t)=>{e.style.paddingLeft=e.style.paddingRight=t+"px",e.style.paddingTop=e.style.paddingBottom=r+"px"},Qe=e=>Be.indexOf(e)<0?e.getBoundingClientRect():{left:0,top:0},ji=(e,r)=>{var t=zi(e),n=r.softFullscreen?innerWidth:screen.width,a=r.softFullscreen?innerHeight:screen.height,i=Qe(e),o=i.width,l=i.height,f=fn(e),v=f[0],_=f[1];if(r.scaleMode==3)kr(e,(a-l)/2,(n-o)/2),n=o,a=l;else if(r.scaleMode==2)if(n*_<v*a){var g=_*n/v;kr(e,(a-g)/2,0),a=g}else{var E=v*a/_;kr(e,0,(n-E)/2),n=E}e.style.backgroundColor||="black",document.body.style.backgroundColor||="black",e.style.width=n+"px",e.style.height=a+"px",r.filteringMode==1&&(e.style.imageRendering="optimizeSpeed",e.style.imageRendering="-moz-crisp-edges",e.style.imageRendering="-o-crisp-edges",e.style.imageRendering="-webkit-optimize-contrast",e.style.imageRendering="optimize-contrast",e.style.imageRendering="crisp-edges",e.style.imageRendering="pixelated");var p=r.canvasResolutionScaleMode==2?devicePixelRatio:1;if(r.canvasResolutionScaleMode!=0){var h=n*p|0,F=a*p|0;_n(e,h,F),e.GLctxObject&&e.GLctxObject.GLctx.viewport(0,0,h,F)}return t},Sr=(e,r)=>{if((r.scaleMode!=0||r.canvasResolutionScaleMode!=0)&&ji(e,r),e.requestFullscreen)e.requestFullscreen();else if(e.webkitRequestFullscreen)e.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);else return b.fullscreenEnabled()?-3:-1;return ue=r,r.canvasResizedCallback&&(r.canvasResizedCallbackTargetThread?ae(r.canvasResizedCallbackTargetThread,r.canvasResizedCallback,37,0,r.canvasResizedCallbackUserData):O(r.canvasResizedCallback)(37,0,r.canvasResizedCallbackUserData)),0};function gn(){if(x)return k(38,0,1);if(!b.fullscreenEnabled())return-1;b.removeDeferredCalls(Sr);var e=Be[1];if(e.exitFullscreen)e.fullscreenElement&&e.exitFullscreen();else if(e.webkitExitFullscreen)e.webkitFullscreenElement&&e.webkitExitFullscreen();else return-1;return 0}var Cr=e=>{if(e.requestPointerLock)e.requestPointerLock();else return document.body.requestPointerLock?-3:-1;return 0};function pn(){if(x)return k(41,0,1);if(b.removeDeferredCalls(Cr),document.exitPointerLock)document.exitPointerLock();else return-1;return 0}var qi=()=>{throw Er(),"unwind"};function hn(e){if(x)return k(42,0,1,e);Lt(),We(e)}function xn(){return x?k(43,0,1):devicePixelRatio}function bn(e,r,t){if(x)return k(44,0,1,e,r,t);if(e=Z(e),!e)return-4;var n=Qe(e);return K[r>>3]=n.width,K[t>>3]=n.height,0}var En=(e,r)=>{K[e>>3]=r.timestamp;for(var t=0;t<r.axes.length;++t)K[e+t*8+16>>3]=r.axes[t];for(var t=0;t<r.buttons.length;++t)typeof r.buttons[t]=="object"?K[e+t*8+528>>3]=r.buttons[t].value:K[e+t*8+528>>3]=r.buttons[t];for(var t=0;t<r.buttons.length;++t)typeof r.buttons[t]=="object"?B[e+t+1040]=r.buttons[t].pressed:B[e+t+1040]=r.buttons[t]==1;B[e+1104]=r.connected,m[e+1108>>2]=r.index,m[e+8>>2]=r.axes.length,m[e+12>>2]=r.buttons.length,V(r.id,e+1112,64),V(r.mapping,e+1176,64)};function yn(e,r){return x?k(45,0,1,e,r):e<0||e>=b.lastGamepadState.length?-5:b.lastGamepadState[e]?(En(r,b.lastGamepadState[e]),0):-7}var Xi=(e,r)=>{e&&(m[e>>2]=S.timingMode),r&&(m[r>>2]=S.timingValue)};function wn(){return x?k(46,0,1):b.lastGamepadState.length}function kn(e,r){if(x)return k(47,0,1,e,r);m[e>>2]=screen.width,m[r>>2]=screen.height}var Hi=e=>c.activeTexture(e),Qi=Hi,Yi=(e,r)=>{c.attachShader(d.programs[e],d.shaders[r])},$i=Yi,Ki=(e,r)=>{c.beginQuery(e,d.queries[r])},Ji=Ki,Zi=(e,r)=>{c.disjointTimerQueryExt.beginQueryEXT(e,d.queries[r])},eo=Zi,ro=e=>c.beginTransformFeedback(e),to=ro,no=(e,r,t)=>{c.bindAttribLocation(d.programs[e],r,W(t))},ao=no,io=(e,r)=>{e==35051?c.currentPixelPackBufferBinding=r:e==35052&&(c.currentPixelUnpackBufferBinding=r),c.bindBuffer(e,d.buffers[r])},oo=io,so=(e,r,t)=>{c.bindBufferBase(e,r,d.buffers[t])},lo=so,co=(e,r,t,n,a)=>{c.bindBufferRange(e,r,d.buffers[t],n,a)},uo=co,fo=(e,r)=>{c.bindFramebuffer(e,d.framebuffers[r])},mo=fo,vo=(e,r)=>{c.bindRenderbuffer(e,d.renderbuffers[r])},_o=vo,go=(e,r)=>{c.bindSampler(e,d.samplers[r])},po=go,ho=(e,r)=>{c.bindTexture(e,d.textures[r])},xo=ho,bo=(e,r)=>{c.bindTransformFeedback(e,d.transformFeedbacks[r])},Eo=bo,Sn=e=>{c.bindVertexArray(d.vaos[e])},yo=Sn,wo=Sn,ko=wo,So=(e,r,t,n)=>c.blendColor(e,r,t,n),Co=So,Ao=e=>c.blendEquation(e),Fo=Ao,Do=(e,r)=>c.blendEquationSeparate(e,r),Bo=Do,Po=(e,r)=>c.blendFunc(e,r),To=Po,Lo=(e,r,t,n)=>c.blendFuncSeparate(e,r,t,n),Mo=Lo,Go=(e,r,t,n,a,i,o,l,f,v)=>c.blitFramebuffer(e,r,t,n,a,i,o,l,f,v),Io=Go,Ro=(e,r,t,n)=>{{t&&r?c.bufferData(e,ee,n,t,r):c.bufferData(e,r,n);return}},Uo=Ro,Oo=(e,r,t,n)=>{{t&&c.bufferSubData(e,r,ee,n,t);return}},No=Oo,Vo=e=>c.checkFramebufferStatus(e),Wo=Vo,zo=e=>c.clear(e),jo=zo,qo=(e,r,t,n)=>c.clearBufferfi(e,r,t,n),Xo=qo,Ho=(e,r,t)=>{c.clearBufferfv(e,r,T,t>>2)},Qo=Ho,Yo=(e,r,t)=>{c.clearBufferiv(e,r,m,t>>2)},$o=Yo,Ko=(e,r,t)=>{c.clearBufferuiv(e,r,P,t>>2)},Jo=Ko,Zo=(e,r,t,n)=>c.clearColor(e,r,t,n),es=Zo,rs=e=>c.clearDepth(e),ts=rs,ns=e=>c.clearStencil(e),as=ns,is=(e,r,t)=>(t=Number(t),c.clientWaitSync(d.syncs[e],r,t)),os=is,ss=(e,r)=>{c.extClipControl.clipControlEXT(e,r)},ls=ss,cs=(e,r,t,n)=>{c.colorMask(!!e,!!r,!!t,!!n)},us=cs,fs=e=>{c.compileShader(d.shaders[e])},ms=fs,ds=(e,r,t,n,a,i,o,l)=>{{if(c.currentPixelUnpackBufferBinding||!o){c.compressedTexImage2D(e,r,t,n,a,i,o,l);return}c.compressedTexImage2D(e,r,t,n,a,i,ee,l,o);return}},vs=ds,_s=(e,r,t,n,a,i,o,l,f)=>{c.currentPixelUnpackBufferBinding?c.compressedTexImage3D(e,r,t,n,a,i,o,l,f):c.compressedTexImage3D(e,r,t,n,a,i,o,ee,f,l)},gs=_s,ps=(e,r,t,n,a,i,o,l,f)=>{{if(c.currentPixelUnpackBufferBinding||!l){c.compressedTexSubImage2D(e,r,t,n,a,i,o,l,f);return}c.compressedTexSubImage2D(e,r,t,n,a,i,o,ee,f,l);return}},hs=ps,xs=(e,r,t,n,a,i,o,l,f,v,_)=>{c.currentPixelUnpackBufferBinding?c.compressedTexSubImage3D(e,r,t,n,a,i,o,l,f,v,_):c.compressedTexSubImage3D(e,r,t,n,a,i,o,l,f,ee,_,v)},bs=xs,Es=(e,r,t,n,a)=>c.copyBufferSubData(e,r,t,n,a),ys=Es,ws=(e,r,t,n,a,i,o,l)=>c.copyTexImage2D(e,r,t,n,a,i,o,l),ks=ws,Ss=(e,r,t,n,a,i,o,l)=>c.copyTexSubImage2D(e,r,t,n,a,i,o,l),Cs=Ss,As=(e,r,t,n,a,i,o,l,f)=>c.copyTexSubImage3D(e,r,t,n,a,i,o,l,f),Fs=As,Ds=()=>{var e=d.getNewId(d.programs),r=c.createProgram();return r.name=e,r.maxUniformLength=r.maxAttributeLength=r.maxUniformBlockNameLength=0,r.uniformIdCounter=1,d.programs[e]=r,e},Bs=Ds,Ps=e=>{var r=d.getNewId(d.shaders);return d.shaders[r]=c.createShader(e),r},Ts=Ps,Ls=e=>c.cullFace(e),Ms=Ls,Gs=(e,r)=>{for(var t=0;t<e;t++){var n=m[r+t*4>>2],a=d.buffers[n];a&&(c.deleteBuffer(a),a.name=0,d.buffers[n]=null,n==c.currentPixelPackBufferBinding&&(c.currentPixelPackBufferBinding=0),n==c.currentPixelUnpackBufferBinding&&(c.currentPixelUnpackBufferBinding=0))}},Is=Gs,Rs=(e,r)=>{for(var t=0;t<e;++t){var n=m[r+t*4>>2],a=d.framebuffers[n];a&&(c.deleteFramebuffer(a),a.name=0,d.framebuffers[n]=null)}},Us=Rs,Os=e=>{if(e){var r=d.programs[e];if(!r){d.recordError(1281);return}c.deleteProgram(r),r.name=0,d.programs[e]=null}},Ns=Os,Vs=(e,r)=>{for(var t=0;t<e;t++){var n=m[r+t*4>>2],a=d.queries[n];a&&(c.deleteQuery(a),d.queries[n]=null)}},Ws=Vs,zs=(e,r)=>{for(var t=0;t<e;t++){var n=m[r+t*4>>2],a=d.queries[n];a&&(c.disjointTimerQueryExt.deleteQueryEXT(a),d.queries[n]=null)}},js=zs,qs=(e,r)=>{for(var t=0;t<e;t++){var n=m[r+t*4>>2],a=d.renderbuffers[n];a&&(c.deleteRenderbuffer(a),a.name=0,d.renderbuffers[n]=null)}},Xs=qs,Hs=(e,r)=>{for(var t=0;t<e;t++){var n=m[r+t*4>>2],a=d.samplers[n];a&&(c.deleteSampler(a),a.name=0,d.samplers[n]=null)}},Qs=Hs,Ys=e=>{if(e){var r=d.shaders[e];if(!r){d.recordError(1281);return}c.deleteShader(r),d.shaders[e]=null}},$s=Ys,Ks=e=>{if(e){var r=d.syncs[e];if(!r){d.recordError(1281);return}c.deleteSync(r),r.name=0,d.syncs[e]=null}},Js=Ks,Zs=(e,r)=>{for(var t=0;t<e;t++){var n=m[r+t*4>>2],a=d.textures[n];a&&(c.deleteTexture(a),a.name=0,d.textures[n]=null)}},el=Zs,rl=(e,r)=>{for(var t=0;t<e;t++){var n=m[r+t*4>>2],a=d.transformFeedbacks[n];a&&(c.deleteTransformFeedback(a),a.name=0,d.transformFeedbacks[n]=null)}},tl=rl,Cn=(e,r)=>{for(var t=0;t<e;t++){var n=m[r+t*4>>2];c.deleteVertexArray(d.vaos[n]),d.vaos[n]=null}},nl=Cn,al=Cn,il=al,ol=e=>c.depthFunc(e),sl=ol,ll=e=>{c.depthMask(!!e)},cl=ll,ul=(e,r)=>c.depthRange(e,r),fl=ul,ml=(e,r)=>{c.detachShader(d.programs[e],d.shaders[r])},dl=ml,vl=e=>c.disable(e),_l=vl,gl=e=>{c.disableVertexAttribArray(e)},pl=gl,hl=(e,r,t)=>{c.drawArrays(e,r,t)},xl=hl,Pe=(e,r,t,n)=>{c.drawArraysInstanced(e,r,t,n)},bl=Pe,El=Pe,yl=El,wl=Pe,kl=wl,Sl=Pe,Cl=Sl,Al=Pe,Fl=Al,Ye=[],Ar=(e,r)=>{for(var t=Ye[e],n=0;n<e;n++)t[n]=m[r+n*4>>2];c.drawBuffers(t)},Dl=Ar,Bl=Ar,Pl=Bl,Tl=Ar,Ll=Tl,An=(e,r,t,n)=>{c.drawElements(e,r,t,n)},Ml=An,Te=(e,r,t,n,a)=>{c.drawElementsInstanced(e,r,t,n,a)},Gl=Te,Il=Te,Rl=Il,Ul=Te,Ol=Ul,Nl=Te,Vl=Nl,Wl=Te,zl=Wl,jl=(e,r,t,n,a,i)=>{An(e,n,a,i)},ql=jl,Xl=e=>c.enable(e),Hl=Xl,Ql=e=>{c.enableVertexAttribArray(e)},Yl=Ql,$l=e=>c.endQuery(e),Kl=$l,Jl=e=>{c.disjointTimerQueryExt.endQueryEXT(e)},Zl=Jl,ec=()=>c.endTransformFeedback(),rc=ec,tc=(e,r)=>{var t=c.fenceSync(e,r);if(t){var n=d.getNewId(d.syncs);return t.name=n,d.syncs[n]=t,n}return 0},nc=tc,ac=()=>c.finish(),ic=ac,oc=()=>c.flush(),sc=oc,lc=(e,r,t,n)=>{c.framebufferRenderbuffer(e,r,t,d.renderbuffers[n])},cc=lc,uc=(e,r,t,n,a)=>{c.framebufferTexture2D(e,r,t,d.textures[n],a)},fc=uc,mc=(e,r,t,n,a)=>{c.framebufferTextureLayer(e,r,d.textures[t],n,a)},dc=mc,vc=e=>c.frontFace(e),_c=vc,gc=(e,r)=>{d.genObject(e,r,"createBuffer",d.buffers)},pc=gc,hc=(e,r)=>{d.genObject(e,r,"createFramebuffer",d.framebuffers)},xc=hc,bc=(e,r)=>{d.genObject(e,r,"createQuery",d.queries)},Ec=bc,yc=(e,r)=>{for(var t=0;t<e;t++){var n=c.disjointTimerQueryExt.createQueryEXT();if(!n){for(d.recordError(1282);t<e;)m[r+t++*4>>2]=0;return}var a=d.getNewId(d.queries);n.name=a,d.queries[a]=n,m[r+t*4>>2]=a}},wc=yc,kc=(e,r)=>{d.genObject(e,r,"createRenderbuffer",d.renderbuffers)},Sc=kc,Cc=(e,r)=>{d.genObject(e,r,"createSampler",d.samplers)},Ac=Cc,Fc=(e,r)=>{d.genObject(e,r,"createTexture",d.textures)},Dc=Fc,Bc=(e,r)=>{d.genObject(e,r,"createTransformFeedback",d.transformFeedbacks)},Pc=Bc,Fn=(e,r)=>{d.genObject(e,r,"createVertexArray",d.vaos)},Tc=Fn,Lc=Fn,Mc=Lc,Gc=e=>c.generateMipmap(e),Ic=Gc,Dn=(e,r,t,n,a,i,o,l)=>{r=d.programs[r];var f=c[e](r,t);if(f){var v=l&&V(f.name,l,n);a&&(m[a>>2]=v),i&&(m[i>>2]=f.size),o&&(m[o>>2]=f.type)}},Rc=(e,r,t,n,a,i,o)=>Dn("getActiveAttrib",e,r,t,n,a,i,o),Uc=Rc,Oc=(e,r,t,n,a,i,o)=>Dn("getActiveUniform",e,r,t,n,a,i,o),Nc=Oc,Vc=(e,r,t,n,a)=>{e=d.programs[e];var i=c.getActiveUniformBlockName(e,r);if(i)if(a&&t>0){var o=V(i,a,t);n&&(m[n>>2]=o)}else n&&(m[n>>2]=0)},Wc=Vc,zc=(e,r,t,n)=>{if(!n){d.recordError(1281);return}if(e=d.programs[e],t==35393){var a=c.getActiveUniformBlockName(e,r);m[n>>2]=a.length+1;return}var i=c.getActiveUniformBlockParameter(e,r,t);if(i!==null)if(t==35395)for(var o=0;o<i.length;o++)m[n+o*4>>2]=i[o];else m[n>>2]=i},jc=zc,qc=(e,r,t,n,a)=>{if(!a){d.recordError(1281);return}if(r>0&&t==0){d.recordError(1281);return}e=d.programs[e];for(var i=[],o=0;o<r;o++)i.push(m[t+o*4>>2]);var l=c.getActiveUniforms(e,i,n);if(l)for(var f=l.length,o=0;o<f;o++)m[a+o*4>>2]=l[o]},Xc=qc,Hc=(e,r,t,n)=>{var a=c.getAttachedShaders(d.programs[e]),i=a.length;i>r&&(i=r),m[t>>2]=i;for(var o=0;o<i;++o){var l=d.shaders.indexOf(a[o]);m[n+o*4>>2]=l}},Qc=Hc,Yc=(e,r)=>c.getAttribLocation(d.programs[e],W(r)),$c=Yc,$e=(e,r)=>{P[e>>2]=r;var t=P[e>>2];P[e+4>>2]=(r-t)/4294967296},Fr=()=>{var e=zt(c);return e=e.concat(e.map(r=>"GL_"+r)),e},Ke=(e,r,t)=>{if(!r){d.recordError(1281);return}var n=void 0;switch(e){case 36346:n=1;break;case 36344:t!=0&&t!=1&&d.recordError(1280);return;case 34814:case 36345:n=0;break;case 34466:var a=c.getParameter(34467);n=a?a.length:0;break;case 33309:if(d.currentContext.version<2){d.recordError(1282);return}n=Fr().length;break;case 33307:case 33308:if(d.currentContext.version<2){d.recordError(1280);return}n=e==33307?3:0;break}if(n===void 0){var i=c.getParameter(e);switch(typeof i){case"number":n=i;break;case"boolean":n=i?1:0;break;case"string":d.recordError(1280);return;case"object":if(i===null)switch(e){case 34964:case 35725:case 34965:case 36006:case 36007:case 32873:case 34229:case 36662:case 36663:case 35053:case 35055:case 36010:case 35097:case 35869:case 32874:case 36389:case 35983:case 35368:case 34068:{n=0;break}default:{d.recordError(1280);return}}else if(i instanceof Float32Array||i instanceof Uint32Array||i instanceof Int32Array||i instanceof Array){for(var o=0;o<i.length;++o)switch(t){case 0:m[r+o*4>>2]=i[o];break;case 2:T[r+o*4>>2]=i[o];break;case 4:B[r+o]=i[o]?1:0;break}return}else try{n=i.name|0}catch(l){d.recordError(1280),Q(`GL_INVALID_ENUM in glGet${t}v: Unknown object returned from WebGL getParameter(${e})! (error: ${l})`);return}break;default:d.recordError(1280),Q(`GL_INVALID_ENUM in glGet${t}v: Native code calling glGet${t}v(${e}) and it returns ${i} of type ${typeof i}!`);return}}switch(t){case 1:$e(r,n);break;case 0:m[r>>2]=n;break;case 2:T[r>>2]=n;break;case 4:B[r]=n?1:0;break}},Kc=(e,r)=>Ke(e,r,4),Jc=Kc,Zc=(e,r,t)=>{if(!t){d.recordError(1281);return}$e(t,c.getBufferParameter(e,r))},eu=Zc,ru=(e,r,t)=>{if(!t){d.recordError(1281);return}m[t>>2]=c.getBufferParameter(e,r)},tu=ru,nu=()=>{var e=c.getError()||d.lastError;return d.lastError=0,e},au=nu,iu=(e,r)=>Ke(e,r,2),ou=iu,su=(e,r)=>c.getFragDataLocation(d.programs[e],W(r)),lu=su,cu=(e,r,t,n)=>{var a=c.getFramebufferAttachmentParameter(e,r,t);(a instanceof WebGLRenderbuffer||a instanceof WebGLTexture)&&(a=a.name|0),m[n>>2]=a},uu=cu,Bn=(e,r,t,n)=>{if(!t){d.recordError(1281);return}var a=c.getIndexedParameter(e,r),i;switch(typeof a){case"boolean":i=a?1:0;break;case"number":i=a;break;case"object":if(a===null)switch(e){case 35983:case 35368:i=0;break;default:{d.recordError(1280);return}}else if(a instanceof WebGLBuffer)i=a.name|0;else{d.recordError(1280);return}break;default:d.recordError(1280);return}switch(n){case 1:$e(t,i);break;case 0:m[t>>2]=i;break;case 2:T[t>>2]=i;break;case 4:B[t]=i?1:0;break;default:throw"internal emscriptenWebGLGetIndexed() error, bad type: "+n}},fu=(e,r,t)=>Bn(e,r,t,1),mu=fu,du=(e,r)=>{Ke(e,r,1)},vu=du,_u=(e,r,t)=>Bn(e,r,t,0),gu=_u,pu=(e,r)=>Ke(e,r,0),hu=pu,xu=(e,r,t,n,a)=>{if(n<0){d.recordError(1281);return}if(!a){d.recordError(1281);return}var i=c.getInternalformatParameter(e,r,t);if(i!==null)for(var o=0;o<i.length&&o<n;++o)m[a+o*4>>2]=i[o]},bu=xu,Eu=(e,r,t,n,a)=>{d.recordError(1282)},yu=Eu,wu=(e,r,t,n)=>{var a=c.getProgramInfoLog(d.programs[e]);a===null&&(a="(unknown error)");var i=r>0&&n?V(a,n,r):0;t&&(m[t>>2]=i)},ku=wu,Su=(e,r,t)=>{if(!t){d.recordError(1281);return}if(e>=d.counter){d.recordError(1281);return}if(e=d.programs[e],r==35716){var n=c.getProgramInfoLog(e);n===null&&(n="(unknown error)"),m[t>>2]=n.length+1}else if(r==35719){if(!e.maxUniformLength)for(var a=c.getProgramParameter(e,35718),i=0;i<a;++i)e.maxUniformLength=Math.max(e.maxUniformLength,c.getActiveUniform(e,i).name.length+1);m[t>>2]=e.maxUniformLength}else if(r==35722){if(!e.maxAttributeLength)for(var o=c.getProgramParameter(e,35721),i=0;i<o;++i)e.maxAttributeLength=Math.max(e.maxAttributeLength,c.getActiveAttrib(e,i).name.length+1);m[t>>2]=e.maxAttributeLength}else if(r==35381){if(!e.maxUniformBlockNameLength)for(var l=c.getProgramParameter(e,35382),i=0;i<l;++i)e.maxUniformBlockNameLength=Math.max(e.maxUniformBlockNameLength,c.getActiveUniformBlockName(e,i).length+1);m[t>>2]=e.maxUniformBlockNameLength}else m[t>>2]=c.getProgramParameter(e,r)},Cu=Su,Pn=(e,r,t)=>{if(!t){d.recordError(1281);return}var n=d.queries[e],a;d.currentContext.version<2?a=c.disjointTimerQueryExt.getQueryObjectEXT(n,r):a=c.getQueryParameter(n,r);var i;typeof a=="boolean"?i=a?1:0:i=a,$e(t,i)},Au=Pn,Tn=(e,r,t)=>{if(!t){d.recordError(1281);return}var n=d.queries[e],a=c.disjointTimerQueryExt.getQueryObjectEXT(n,r),i;typeof a=="boolean"?i=a?1:0:i=a,m[t>>2]=i},Fu=Tn,Du=Pn,Bu=Du,Pu=(e,r,t)=>{if(!t){d.recordError(1281);return}var n=d.queries[e],a=c.getQueryParameter(n,r),i;typeof a=="boolean"?i=a?1:0:i=a,m[t>>2]=i},Tu=Pu,Lu=Tn,Mu=Lu,Gu=(e,r,t)=>{if(!t){d.recordError(1281);return}m[t>>2]=c.getQuery(e,r)},Iu=Gu,Ru=(e,r,t)=>{if(!t){d.recordError(1281);return}m[t>>2]=c.disjointTimerQueryExt.getQueryEXT(e,r)},Uu=Ru,Ou=(e,r,t)=>{if(!t){d.recordError(1281);return}m[t>>2]=c.getRenderbufferParameter(e,r)},Nu=Ou,Vu=(e,r,t)=>{if(!t){d.recordError(1281);return}T[t>>2]=c.getSamplerParameter(d.samplers[e],r)},Wu=Vu,zu=(e,r,t)=>{if(!t){d.recordError(1281);return}m[t>>2]=c.getSamplerParameter(d.samplers[e],r)},ju=zu,qu=(e,r,t,n)=>{var a=c.getShaderInfoLog(d.shaders[e]);a===null&&(a="(unknown error)");var i=r>0&&n?V(a,n,r):0;t&&(m[t>>2]=i)},Xu=qu,Hu=(e,r,t,n)=>{var a=c.getShaderPrecisionFormat(e,r);m[t>>2]=a.rangeMin,m[t+4>>2]=a.rangeMax,m[n>>2]=a.precision},Qu=Hu,Yu=(e,r,t,n)=>{var a=c.getShaderSource(d.shaders[e]);if(a){var i=r>0&&n?V(a,n,r):0;t&&(m[t>>2]=i)}},$u=Yu,Ku=(e,r,t)=>{if(!t){d.recordError(1281);return}if(r==35716){var n=c.getShaderInfoLog(d.shaders[e]);n===null&&(n="(unknown error)");var a=n?n.length+1:0;m[t>>2]=a}else if(r==35720){var i=c.getShaderSource(d.shaders[e]),o=i?i.length+1:0;m[t>>2]=o}else m[t>>2]=c.getShaderParameter(d.shaders[e],r)},Ju=Ku,Zu=e=>{var r=d.stringCache[e];if(!r){switch(e){case 7939:r=ce(Fr().join(" "));break;case 7936:case 7937:case 37445:case 37446:var t=c.getParameter(e);t||d.recordError(1280),r=t?ce(t):0;break;case 7938:var n=c.getParameter(7938),a=`OpenGL ES 2.0 (${n})`;a=`OpenGL ES 3.0 (${n})`,r=ce(a);break;case 35724:var i=c.getParameter(35724),o=/^WebGL GLSL ES ([0-9]\.[0-9][0-9]?)(?:$| .*)/,l=i.match(o);l!==null&&(l[1].length==3&&(l[1]=l[1]+"0"),i=`OpenGL ES GLSL ES ${l[1]} (${i})`),r=ce(i);break;default:d.recordError(1280)}d.stringCache[e]=r}return r},ef=Zu,rf=(e,r)=>{if(d.currentContext.version<2)return d.recordError(1282),0;var t=d.stringiCache[e];if(t)return r<0||r>=t.length?(d.recordError(1281),0):t[r];switch(e){case 7939:var n=Fr().map(ce);return t=d.stringiCache[e]=n,r<0||r>=t.length?(d.recordError(1281),0):t[r];default:return d.recordError(1280),0}},tf=rf,nf=(e,r,t,n,a)=>{if(t<0){d.recordError(1281);return}if(!a){d.recordError(1281);return}var i=c.getSyncParameter(d.syncs[e],r);i!==null&&(m[a>>2]=i,n&&(m[n>>2]=1))},af=nf,of=(e,r,t)=>{if(!t){d.recordError(1281);return}T[t>>2]=c.getTexParameter(e,r)},sf=of,lf=(e,r,t)=>{if(!t){d.recordError(1281);return}m[t>>2]=c.getTexParameter(e,r)},cf=lf,uf=(e,r,t,n,a,i,o)=>{e=d.programs[e];var l=c.getTransformFeedbackVarying(e,r);if(l){if(o&&t>0){var f=V(l.name,o,t);n&&(m[n>>2]=f)}else n&&(m[n>>2]=0);a&&(m[a>>2]=l.size),i&&(m[i>>2]=l.type)}},ff=uf,mf=(e,r)=>c.getUniformBlockIndex(d.programs[e],W(r)),df=mf,vf=(e,r,t,n)=>{if(!n){d.recordError(1281);return}if(r>0&&(t==0||n==0)){d.recordError(1281);return}e=d.programs[e];for(var a=[],i=0;i<r;i++)a.push(W(m[t+i*4>>2]));var o=c.getUniformIndices(e,a);if(o)for(var l=o.length,i=0;i<l;i++)m[n+i*4>>2]=o[i]},_f=vf,gf=e=>parseInt(e),Ln=e=>e.slice(-1)=="]"&&e.lastIndexOf("["),Mn=e=>{var r=e.uniformLocsById,t=e.uniformSizeAndIdsByName,n,a;if(!r){e.uniformLocsById=r={},e.uniformArrayNamesById={};var i=c.getProgramParameter(e,35718);for(n=0;n<i;++n){var o=c.getActiveUniform(e,n),l=o.name,f=o.size,v=Ln(l),_=v>0?l.slice(0,v):l,g=e.uniformIdCounter;for(e.uniformIdCounter+=f,t[_]=[f,g],a=0;a<f;++a)r[g]=a,e.uniformArrayNamesById[g++]=_}}},pf=(e,r)=>{if(r=W(r),e=d.programs[e]){Mn(e);var t=e.uniformLocsById,n=0,a=r,i=Ln(r);i>0&&(n=gf(r.slice(i+1))>>>0,a=r.slice(0,i));var o=e.uniformSizeAndIdsByName[a];if(o&&n<o[0]&&(n+=o[1],t[n]=t[n]||c.getUniformLocation(e,r)))return n}else d.recordError(1281);return-1},hf=pf,G=e=>{var r=c.currentProgram;if(r){var t=r.uniformLocsById[e];return typeof t=="number"&&(r.uniformLocsById[e]=t=c.getUniformLocation(r,r.uniformArrayNamesById[e]+(t>0?`[${t}]`:""))),t}else d.recordError(1282)},Dr=(e,r,t,n)=>{if(!t){d.recordError(1281);return}e=d.programs[e],Mn(e);var a=c.getUniform(e,G(r));if(typeof a=="number"||typeof a=="boolean")switch(n){case 0:m[t>>2]=a;break;case 2:T[t>>2]=a;break}else for(var i=0;i<a.length;i++)switch(n){case 0:m[t+i*4>>2]=a[i];break;case 2:T[t+i*4>>2]=a[i];break}},xf=(e,r,t)=>{Dr(e,r,t,2)},bf=xf,Ef=(e,r,t)=>{Dr(e,r,t,0)},yf=Ef,wf=(e,r,t)=>Dr(e,r,t,0),kf=wf,Br=(e,r,t,n)=>{if(!t){d.recordError(1281);return}var a=c.getVertexAttrib(e,r);if(r==34975)m[t>>2]=a&&a.name;else if(typeof a=="number"||typeof a=="boolean")switch(n){case 0:m[t>>2]=a;break;case 2:T[t>>2]=a;break;case 5:m[t>>2]=Math.fround(a);break}else for(var i=0;i<a.length;i++)switch(n){case 0:m[t+i*4>>2]=a[i];break;case 2:T[t+i*4>>2]=a[i];break;case 5:m[t+i*4>>2]=Math.fround(a[i]);break}},Gn=(e,r,t)=>{Br(e,r,t,0)},Sf=Gn,Cf=Gn,Af=Cf,Ff=(e,r,t)=>{if(!t){d.recordError(1281);return}m[t>>2]=c.getVertexAttribOffset(e,r)},Df=Ff,Bf=(e,r,t)=>{Br(e,r,t,2)},Pf=Bf,Tf=(e,r,t)=>{Br(e,r,t,5)},Lf=Tf,Mf=(e,r)=>c.hint(e,r),Gf=Mf,If=(e,r,t)=>{for(var n=Ye[r],a=0;a<r;a++)n[a]=m[t+a*4>>2];c.invalidateFramebuffer(e,n)},Rf=If,Uf=(e,r,t,n,a,i,o)=>{for(var l=Ye[r],f=0;f<r;f++)l[f]=m[t+f*4>>2];c.invalidateSubFramebuffer(e,l,n,a,i,o)},Of=Uf,Nf=e=>{var r=d.buffers[e];return r?c.isBuffer(r):0},Vf=Nf,Wf=e=>c.isEnabled(e),zf=Wf,jf=e=>{var r=d.framebuffers[e];return r?c.isFramebuffer(r):0},qf=jf,Xf=e=>(e=d.programs[e],e?c.isProgram(e):0),Hf=Xf,Qf=e=>{var r=d.queries[e];return r?c.isQuery(r):0},Yf=Qf,$f=e=>{var r=d.queries[e];return r?c.disjointTimerQueryExt.isQueryEXT(r):0},Kf=$f,Jf=e=>{var r=d.renderbuffers[e];return r?c.isRenderbuffer(r):0},Zf=Jf,em=e=>{var r=d.samplers[e];return r?c.isSampler(r):0},rm=em,tm=e=>{var r=d.shaders[e];return r?c.isShader(r):0},nm=tm,am=e=>c.isSync(d.syncs[e]),im=am,om=e=>{var r=d.textures[e];return r?c.isTexture(r):0},sm=om,lm=e=>c.isTransformFeedback(d.transformFeedbacks[e]),cm=lm,In=e=>{var r=d.vaos[e];return r?c.isVertexArray(r):0},um=In,fm=In,mm=fm,dm=e=>c.lineWidth(e),vm=dm,_m=e=>{e=d.programs[e],c.linkProgram(e),e.uniformLocsById=0,e.uniformSizeAndIdsByName={}},gm=_m,pm=()=>c.pauseTransformFeedback(),hm=pm,xm=(e,r)=>{e==3317?d.unpackAlignment=r:e==3314&&(d.unpackRowLength=r),c.pixelStorei(e,r)},bm=xm,Em=(e,r)=>{c.webglPolygonMode.polygonModeWEBGL(e,r)},ym=Em,wm=(e,r)=>c.polygonOffset(e,r),km=wm,Sm=(e,r,t)=>{c.extPolygonOffsetClamp.polygonOffsetClampEXT(e,r,t)},Cm=Sm,Am=(e,r,t,n)=>{d.recordError(1280)},Fm=Am,Dm=(e,r,t)=>{d.recordError(1280)},Bm=Dm,Pm=(e,r)=>{c.disjointTimerQueryExt.queryCounterEXT(d.queries[e],r)},Tm=Pm,Lm=e=>c.readBuffer(e),Mm=Lm,Gm=(e,r,t)=>{function n(o,l){return o+l-1&-l}var a=(d.unpackRowLength||e)*t,i=n(a,d.unpackAlignment);return r*i},Im=e=>{var r={5:3,6:4,8:2,29502:3,29504:4,26917:2,26918:2,29846:3,29847:4};return r[e-6402]||1},Ce=e=>(e-=5120,e==0?B:e==1?ee:e==2?le:e==4?m:e==6?T:e==5||e==28922||e==28520||e==30779||e==30782?P:Qr),_e=(e,r)=>e>>>31-Math.clz32(r.BYTES_PER_ELEMENT),Rn=(e,r,t,n,a,i)=>{var o=Ce(e),l=Im(r)*o.BYTES_PER_ELEMENT,f=Gm(t,n,l);return o.subarray(_e(a,o),_e(a+f,o))},Rm=(e,r,t,n,a,i,o)=>{{if(c.currentPixelPackBufferBinding){c.readPixels(e,r,t,n,a,i,o);return}var l=Ce(i),f=_e(o,l);c.readPixels(e,r,t,n,a,i,l,f);return}},Um=Rm,Om=()=>{},Nm=Om,Vm=(e,r,t,n)=>c.renderbufferStorage(e,r,t,n),Wm=Vm,zm=(e,r,t,n,a)=>c.renderbufferStorageMultisample(e,r,t,n,a),jm=zm,qm=()=>c.resumeTransformFeedback(),Xm=qm,Hm=(e,r)=>{c.sampleCoverage(e,!!r)},Qm=Hm,Ym=(e,r,t)=>{c.samplerParameterf(d.samplers[e],r,t)},$m=Ym,Km=(e,r,t)=>{var n=T[t>>2];c.samplerParameterf(d.samplers[e],r,n)},Jm=Km,Zm=(e,r,t)=>{c.samplerParameteri(d.samplers[e],r,t)},ed=Zm,rd=(e,r,t)=>{var n=m[t>>2];c.samplerParameteri(d.samplers[e],r,n)},td=rd,nd=(e,r,t,n)=>c.scissor(e,r,t,n),ad=nd,id=(e,r,t,n,a)=>{d.recordError(1280)},od=id,sd=(e,r,t,n)=>{var a=d.getSource(e,r,t,n);c.shaderSource(d.shaders[e],a)},ld=sd,cd=(e,r,t)=>c.stencilFunc(e,r,t),ud=cd,fd=(e,r,t,n)=>c.stencilFuncSeparate(e,r,t,n),md=fd,dd=e=>c.stencilMask(e),vd=dd,_d=(e,r)=>c.stencilMaskSeparate(e,r),gd=_d,pd=(e,r,t)=>c.stencilOp(e,r,t),hd=pd,xd=(e,r,t,n)=>c.stencilOpSeparate(e,r,t,n),bd=xd,Ed=(e,r,t,n,a,i,o,l,f)=>{{if(c.currentPixelUnpackBufferBinding){c.texImage2D(e,r,t,n,a,i,o,l,f);return}if(f){var v=Ce(l),_=_e(f,v);c.texImage2D(e,r,t,n,a,i,o,l,v,_);return}}var g=f?Rn(l,o,n,a,f):null;c.texImage2D(e,r,t,n,a,i,o,l,g)},yd=Ed,wd=(e,r,t,n,a,i,o,l,f,v)=>{if(c.currentPixelUnpackBufferBinding)c.texImage3D(e,r,t,n,a,i,o,l,f,v);else if(v){var _=Ce(f);c.texImage3D(e,r,t,n,a,i,o,l,f,_,_e(v,_))}else c.texImage3D(e,r,t,n,a,i,o,l,f,null)},kd=wd,Sd=(e,r,t)=>c.texParameterf(e,r,t),Cd=Sd,Ad=(e,r,t)=>{var n=T[t>>2];c.texParameterf(e,r,n)},Fd=Ad,Dd=(e,r,t)=>c.texParameteri(e,r,t),Bd=Dd,Pd=(e,r,t)=>{var n=m[t>>2];c.texParameteri(e,r,n)},Td=Pd,Ld=(e,r,t,n,a)=>c.texStorage2D(e,r,t,n,a),Md=Ld,Gd=(e,r,t,n,a,i)=>c.texStorage3D(e,r,t,n,a,i),Id=Gd,Rd=(e,r,t,n,a,i,o,l,f)=>{{if(c.currentPixelUnpackBufferBinding){c.texSubImage2D(e,r,t,n,a,i,o,l,f);return}if(f){var v=Ce(l);c.texSubImage2D(e,r,t,n,a,i,o,l,v,_e(f,v));return}}var _=f?Rn(l,o,a,i,f):null;c.texSubImage2D(e,r,t,n,a,i,o,l,_)},Ud=Rd,Od=(e,r,t,n,a,i,o,l,f,v,_)=>{if(c.currentPixelUnpackBufferBinding)c.texSubImage3D(e,r,t,n,a,i,o,l,f,v,_);else if(_){var g=Ce(v);c.texSubImage3D(e,r,t,n,a,i,o,l,f,v,g,_e(_,g))}else c.texSubImage3D(e,r,t,n,a,i,o,l,f,v,null)},Nd=Od,Vd=(e,r,t,n)=>{e=d.programs[e];for(var a=[],i=0;i<r;i++)a.push(W(m[t+i*4>>2]));c.transformFeedbackVaryings(e,a,n)},Wd=Vd,zd=(e,r)=>{c.uniform1f(G(e),r)},jd=zd,qd=(e,r,t)=>{r&&c.uniform1fv(G(e),T,t>>2,r)},Xd=qd,Hd=(e,r)=>{c.uniform1i(G(e),r)},Qd=Hd,Yd=(e,r,t)=>{r&&c.uniform1iv(G(e),m,t>>2,r)},$d=Yd,Kd=(e,r)=>{c.uniform1ui(G(e),r)},Jd=Kd,Zd=(e,r,t)=>{r&&c.uniform1uiv(G(e),P,t>>2,r)},ev=Zd,rv=(e,r,t)=>{c.uniform2f(G(e),r,t)},tv=rv,nv=(e,r,t)=>{r&&c.uniform2fv(G(e),T,t>>2,r*2)},av=nv,iv=(e,r,t)=>{c.uniform2i(G(e),r,t)},ov=iv,sv=(e,r,t)=>{r&&c.uniform2iv(G(e),m,t>>2,r*2)},lv=sv,cv=(e,r,t)=>{c.uniform2ui(G(e),r,t)},uv=cv,fv=(e,r,t)=>{r&&c.uniform2uiv(G(e),P,t>>2,r*2)},mv=fv,dv=(e,r,t,n)=>{c.uniform3f(G(e),r,t,n)},vv=dv,_v=(e,r,t)=>{r&&c.uniform3fv(G(e),T,t>>2,r*3)},gv=_v,pv=(e,r,t,n)=>{c.uniform3i(G(e),r,t,n)},hv=pv,xv=(e,r,t)=>{r&&c.uniform3iv(G(e),m,t>>2,r*3)},bv=xv,Ev=(e,r,t,n)=>{c.uniform3ui(G(e),r,t,n)},yv=Ev,wv=(e,r,t)=>{r&&c.uniform3uiv(G(e),P,t>>2,r*3)},kv=wv,Sv=(e,r,t,n,a)=>{c.uniform4f(G(e),r,t,n,a)},Cv=Sv,Av=(e,r,t)=>{r&&c.uniform4fv(G(e),T,t>>2,r*4)},Fv=Av,Dv=(e,r,t,n,a)=>{c.uniform4i(G(e),r,t,n,a)},Bv=Dv,Pv=(e,r,t)=>{r&&c.uniform4iv(G(e),m,t>>2,r*4)},Tv=Pv,Lv=(e,r,t,n,a)=>{c.uniform4ui(G(e),r,t,n,a)},Mv=Lv,Gv=(e,r,t)=>{r&&c.uniform4uiv(G(e),P,t>>2,r*4)},Iv=Gv,Rv=(e,r,t)=>{e=d.programs[e],c.uniformBlockBinding(e,r,t)},Uv=Rv,Ov=(e,r,t,n)=>{r&&c.uniformMatrix2fv(G(e),!!t,T,n>>2,r*4)},Nv=Ov,Vv=(e,r,t,n)=>{r&&c.uniformMatrix2x3fv(G(e),!!t,T,n>>2,r*6)},Wv=Vv,zv=(e,r,t,n)=>{r&&c.uniformMatrix2x4fv(G(e),!!t,T,n>>2,r*8)},jv=zv,qv=(e,r,t,n)=>{r&&c.uniformMatrix3fv(G(e),!!t,T,n>>2,r*9)},Xv=qv,Hv=(e,r,t,n)=>{r&&c.uniformMatrix3x2fv(G(e),!!t,T,n>>2,r*6)},Qv=Hv,Yv=(e,r,t,n)=>{r&&c.uniformMatrix3x4fv(G(e),!!t,T,n>>2,r*12)},$v=Yv,Kv=(e,r,t,n)=>{r&&c.uniformMatrix4fv(G(e),!!t,T,n>>2,r*16)},Jv=Kv,Zv=(e,r,t,n)=>{r&&c.uniformMatrix4x2fv(G(e),!!t,T,n>>2,r*8)},e_=Zv,r_=(e,r,t,n)=>{r&&c.uniformMatrix4x3fv(G(e),!!t,T,n>>2,r*12)},t_=r_,n_=e=>{e=d.programs[e],c.useProgram(e),c.currentProgram=e},a_=n_,i_=e=>{c.validateProgram(d.programs[e])},o_=i_,s_=(e,r)=>c.vertexAttrib1f(e,r),l_=s_,c_=(e,r)=>{c.vertexAttrib1f(e,T[r>>2])},u_=c_,f_=(e,r,t)=>c.vertexAttrib2f(e,r,t),m_=f_,d_=(e,r)=>{c.vertexAttrib2f(e,T[r>>2],T[r+4>>2])},v_=d_,__=(e,r,t,n)=>c.vertexAttrib3f(e,r,t,n),g_=__,p_=(e,r)=>{c.vertexAttrib3f(e,T[r>>2],T[r+4>>2],T[r+8>>2])},h_=p_,x_=(e,r,t,n,a)=>c.vertexAttrib4f(e,r,t,n,a),b_=x_,E_=(e,r)=>{c.vertexAttrib4f(e,T[r>>2],T[r+4>>2],T[r+8>>2],T[r+12>>2])},y_=E_,Le=(e,r)=>{c.vertexAttribDivisor(e,r)},w_=Le,k_=Le,S_=k_,C_=Le,A_=C_,F_=Le,D_=F_,B_=Le,P_=B_,T_=(e,r,t,n,a)=>c.vertexAttribI4i(e,r,t,n,a),L_=T_,M_=(e,r)=>{c.vertexAttribI4i(e,m[r>>2],m[r+4>>2],m[r+8>>2],m[r+12>>2])},G_=M_,I_=(e,r,t,n,a)=>c.vertexAttribI4ui(e,r,t,n,a),R_=I_,U_=(e,r)=>{c.vertexAttribI4ui(e,P[r>>2],P[r+4>>2],P[r+8>>2],P[r+12>>2])},O_=U_,N_=(e,r,t,n,a)=>{c.vertexAttribIPointer(e,r,t,n,a)},V_=N_,W_=(e,r,t,n,a,i)=>{c.vertexAttribPointer(e,r,t,!!n,a,i)},z_=W_,j_=(e,r,t,n)=>c.viewport(e,r,t,n),q_=j_,X_=(e,r,t)=>{t=Number(t),c.waitSync(d.syncs[e],r,t)},H_=X_,Q_=()=>0,Y_=()=>S.pause(),$_=(e,r)=>b.fullscreenEnabled()?(e=Z(e),e?!e.requestFullscreen&&!e.webkitRequestFullscreen?-3:b.canPerformEventHandlerRequests()?Sr(e,r):r.deferUntilInEventHandler?(b.deferCall(Sr,1,[e,r]),1):-2:-4):-1;function Un(e,r,t){if(x)return k(48,0,1,e,r,t);var n={scaleMode:m[t>>2],canvasResolutionScaleMode:m[t+4>>2],filteringMode:m[t+8>>2],deferUntilInEventHandler:r,canvasResizedCallbackTargetThread:m[t+20>>2],canvasResizedCallback:m[t+12>>2],canvasResizedCallbackUserData:m[t+16>>2]};return $_(e,n)}function On(e,r){return x?k(49,0,1,e,r):(e=Z(e),e?e.requestPointerLock?b.canPerformEventHandlerRequests()?Cr(e):r?(b.deferCall(Cr,2,[e]),1):-2:-1:-4)}var K_=e=>{de("OOM")},J_=e=>{ee.length,K_()},Z_=()=>S.resume();function Je(){if(x)return k(50,0,1);try{if(navigator.getGamepads)return(b.lastGamepadState=navigator.getGamepads())?0:-1}catch{navigator.getGamepads=null}return-1}var eg=(e,r,t,n,a,i)=>{var o=(f=event)=>{var v=O(n)(a,0,r);if(v&&(v=W(v)),v)return f.preventDefault(),f.returnValue=v,v},l={target:Z(e),eventTypeString:i,callbackfunc:n,handlerFunc:o,useCapture:t};return b.registerOrRemoveHandler(l)};function Nn(e,r,t){return x?k(51,0,1,e,r,t):typeof onbeforeunload>"u"?-1:t!==1?-5:eg(2,e,!0,r,28,"beforeunload")}var Vn=(e,r,t,n,a,i,o)=>{o=b.getTargetThreadForEventCallback(o),b.focusEvent||=z(256);var l=(v=event)=>{var _=b.getNodeNameForTarget(v.target),g=v.target.id?v.target.id:"",E=o?z(256):b.focusEvent;V(_,E+0,128),V(g,E+128,128),o?ae(o,n,a,E,r):O(n)(a,E,r)&&v.preventDefault()},f={target:Z(e),eventTypeString:i,callbackfunc:n,handlerFunc:l,useCapture:t};return b.registerOrRemoveHandler(f)};function Wn(e,r,t,n,a){return x?k(52,0,1,e,r,t,n,a):Vn(e,r,t,n,12,"blur",a)}function zn(e,r,t){return x?k(53,0,1,e,r,t):(e=Z(e),e?(e.style.width=r+"px",e.style.height=t+"px",0):-4)}function jn(e,r,t,n,a){return x?k(54,0,1,e,r,t,n,a):Vn(e,r,t,n,13,"focus",a)}var rg=e=>{var r=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement,t=!!r;B[e]=t,B[e+1]=b.fullscreenEnabled();var n=t?r:b.previousFullscreenElement,a=b.getNodeNameForTarget(n),i=n?.id||"";V(a,e+2,128),V(i,e+130,128),m[e+260>>2]=n?n.clientWidth:0,m[e+264>>2]=n?n.clientHeight:0,m[e+268>>2]=screen.width,m[e+272>>2]=screen.height,t&&(b.previousFullscreenElement=r)},qn=(e,r,t,n,a,i,o)=>{o=b.getTargetThreadForEventCallback(o),b.fullscreenChangeEvent||=z(276);var l=(v=event)=>{var _=o?z(276):b.fullscreenChangeEvent;rg(_),o?ae(o,n,a,_,r):O(n)(a,_,r)&&v.preventDefault()},f={target:e,eventTypeString:i,callbackfunc:n,handlerFunc:l,useCapture:t};return b.registerOrRemoveHandler(f)};function Xn(e,r,t,n,a){return x?k(55,0,1,e,r,t,n,a):b.fullscreenEnabled()?(e=Z(e),e?(qn(e,r,t,n,19,"webkitfullscreenchange",a),qn(e,r,t,n,19,"fullscreenchange",a)):-4):-1}var Hn=(e,r,t,n,a,i,o)=>{o=b.getTargetThreadForEventCallback(o),b.gamepadEvent||=z(1240);var l=(v=event)=>{var _=o?z(1240):b.gamepadEvent;En(_,v.gamepad),o?ae(o,n,a,_,r):O(n)(a,_,r)&&v.preventDefault()},f={target:Z(e),allowsDeferredCalls:!0,eventTypeString:i,callbackfunc:n,handlerFunc:l,useCapture:t};return b.registerOrRemoveHandler(f)};function Qn(e,r,t,n){return x?k(56,0,1,e,r,t,n):Je()?-1:Hn(2,e,r,t,26,"gamepadconnected",n)}function Yn(e,r,t,n){return x?k(57,0,1,e,r,t,n):Je()?-1:Hn(2,e,r,t,27,"gamepaddisconnected",n)}var Pr=(e,r,t,n,a,i,o)=>{o=b.getTargetThreadForEventCallback(o),b.keyEvent||=z(160);var l=v=>{var _=o?z(160):b.keyEvent;K[_>>3]=v.timeStamp;var g=_>>2;m[g+2]=v.location,B[_+12]=v.ctrlKey,B[_+13]=v.shiftKey,B[_+14]=v.altKey,B[_+15]=v.metaKey,B[_+16]=v.repeat,m[g+5]=v.charCode,m[g+6]=v.keyCode,m[g+7]=v.which,V(v.key||"",_+32,32),V(v.code||"",_+64,32),V(v.char||"",_+96,32),V(v.locale||"",_+128,32),o?ae(o,n,a,_,r):O(n)(a,_,r)&&v.preventDefault()},f={target:Z(e),eventTypeString:i,callbackfunc:n,handlerFunc:l,useCapture:t};return b.registerOrRemoveHandler(f)};function $n(e,r,t,n,a){return x?k(58,0,1,e,r,t,n,a):Pr(e,r,t,n,2,"keydown",a)}function Kn(e,r,t,n,a){return x?k(59,0,1,e,r,t,n,a):Pr(e,r,t,n,1,"keypress",a)}function Jn(e,r,t,n,a){return x?k(60,0,1,e,r,t,n,a):Pr(e,r,t,n,3,"keyup",a)}var tg=(e,r,t)=>{var n=O(e);rn(n,r,t)},Tr=(e,r,t)=>{K[e>>3]=r.timeStamp;var n=e>>2;m[n+2]=r.screenX,m[n+3]=r.screenY,m[n+4]=r.clientX,m[n+5]=r.clientY,B[e+24]=r.ctrlKey,B[e+25]=r.shiftKey,B[e+26]=r.altKey,B[e+27]=r.metaKey,le[n*2+14]=r.button,le[n*2+15]=r.buttons,m[n+8]=r.movementX,m[n+9]=r.movementY;var a=Qe(t);m[n+10]=r.clientX-(a.left|0),m[n+11]=r.clientY-(a.top|0)},Me=(e,r,t,n,a,i,o)=>{o=b.getTargetThreadForEventCallback(o),b.mouseEvent||=z(64),e=Z(e);var l=(v=event)=>{if(Tr(b.mouseEvent,v,e),o){var _=z(64);Tr(_,v,e),ae(o,n,a,_,r)}else O(n)(a,b.mouseEvent,r)&&v.preventDefault()},f={target:e,allowsDeferredCalls:i!="mousemove"&&i!="mouseenter"&&i!="mouseleave",eventTypeString:i,callbackfunc:n,handlerFunc:l,useCapture:t};return b.registerOrRemoveHandler(f)};function Zn(e,r,t,n,a){return x?k(61,0,1,e,r,t,n,a):Me(e,r,t,n,5,"mousedown",a)}function ea(e,r,t,n,a){return x?k(62,0,1,e,r,t,n,a):Me(e,r,t,n,33,"mouseenter",a)}function ra(e,r,t,n,a){return x?k(63,0,1,e,r,t,n,a):Me(e,r,t,n,34,"mouseleave",a)}function ta(e,r,t,n,a){return x?k(64,0,1,e,r,t,n,a):Me(e,r,t,n,8,"mousemove",a)}function na(e,r,t,n,a){return x?k(65,0,1,e,r,t,n,a):Me(e,r,t,n,6,"mouseup",a)}var ng=e=>{var r=document.pointerLockElement||document.mozPointerLockElement||document.webkitPointerLockElement||document.msPointerLockElement,t=!!r;B[e]=t;var n=b.getNodeNameForTarget(r),a=r?.id||"";V(n,e+1,128),V(a,e+129,128)},Ze=(e,r,t,n,a,i,o)=>{o=b.getTargetThreadForEventCallback(o),b.pointerlockChangeEvent||=z(257);var l=(v=event)=>{var _=o?z(257):b.pointerlockChangeEvent;ng(_),o?ae(o,n,a,_,r):O(n)(a,_,r)&&v.preventDefault()},f={target:e,eventTypeString:i,callbackfunc:n,handlerFunc:l,useCapture:t};return b.registerOrRemoveHandler(f)};function aa(e,r,t,n,a){return x?k(66,0,1,e,r,t,n,a):!document||!document.body||!document.body.requestPointerLock&&!document.body.mozRequestPointerLock&&!document.body.webkitRequestPointerLock&&!document.body.msRequestPointerLock?-1:(e=Z(e),e?(Ze(e,r,t,n,20,"mozpointerlockchange",a),Ze(e,r,t,n,20,"webkitpointerlockchange",a),Ze(e,r,t,n,20,"mspointerlockchange",a),Ze(e,r,t,n,20,"pointerlockchange",a)):-4)}var ag=(e,r,t,n,a,i,o)=>{o=b.getTargetThreadForEventCallback(o),b.uiEvent||=z(36),e=Z(e);var l=(v=event)=>{if(v.target==e){var _=document.body;if(_){var g=o?z(36):b.uiEvent;m[g>>2]=0,m[g+4>>2]=_.clientWidth,m[g+8>>2]=_.clientHeight,m[g+12>>2]=innerWidth,m[g+16>>2]=innerHeight,m[g+20>>2]=outerWidth,m[g+24>>2]=outerHeight,m[g+28>>2]=pageXOffset|0,m[g+32>>2]=pageYOffset|0,o?ae(o,n,a,g,r):O(n)(a,g,r)&&v.preventDefault()}}},f={target:e,eventTypeString:i,callbackfunc:n,handlerFunc:l,useCapture:t};return b.registerOrRemoveHandler(f)};function ia(e,r,t,n,a){return x?k(67,0,1,e,r,t,n,a):ag(e,r,t,n,10,"resize",a)}var er=(e,r,t,n,a,i,o)=>{o=b.getTargetThreadForEventCallback(o),b.touchEvent||=z(1552),e=Z(e);var l=v=>{var _={},g=v.touches;for(let D of g)D.isChanged=D.onTarget=0,_[D.identifier]=D;for(let D of v.changedTouches)D.isChanged=1,_[D.identifier]=D;for(let D of v.targetTouches)_[D.identifier].onTarget=1;var E=o?z(1552):b.touchEvent;K[E>>3]=v.timeStamp,B[E+12]=v.ctrlKey,B[E+13]=v.shiftKey,B[E+14]=v.altKey,B[E+15]=v.metaKey;var p=E+16,h=Qe(e),F=0;for(let D of Object.values(_)){var U=p>>2;if(m[U+0]=D.identifier,m[U+1]=D.screenX,m[U+2]=D.screenY,m[U+3]=D.clientX,m[U+4]=D.clientY,m[U+5]=D.pageX,m[U+6]=D.pageY,B[p+28]=D.isChanged,B[p+29]=D.onTarget,m[U+8]=D.clientX-(h.left|0),m[U+9]=D.clientY-(h.top|0),p+=48,++F>31)break}m[E+8>>2]=F,o?ae(o,n,a,E,r):O(n)(a,E,r)&&v.preventDefault()},f={target:e,allowsDeferredCalls:i=="touchstart"||i=="touchend",eventTypeString:i,callbackfunc:n,handlerFunc:l,useCapture:t};return b.registerOrRemoveHandler(f)};function oa(e,r,t,n,a){return x?k(68,0,1,e,r,t,n,a):er(e,r,t,n,25,"touchcancel",a)}function sa(e,r,t,n,a){return x?k(69,0,1,e,r,t,n,a):er(e,r,t,n,23,"touchend",a)}function la(e,r,t,n,a){return x?k(70,0,1,e,r,t,n,a):er(e,r,t,n,24,"touchmove",a)}function ca(e,r,t,n,a){return x?k(71,0,1,e,r,t,n,a):er(e,r,t,n,22,"touchstart",a)}var ig=e=>{var r=["hidden","visible","prerender","unloaded"],t=r.indexOf(document.visibilityState);B[e]=document.hidden,m[e+4>>2]=t},og=(e,r,t,n,a,i,o)=>{o=b.getTargetThreadForEventCallback(o),b.visibilityChangeEvent||=z(8);var l=(v=event)=>{var _=o?z(8):b.visibilityChangeEvent;ig(_),o?ae(o,n,a,_,r):O(n)(a,_,r)&&v.preventDefault()},f={target:e,eventTypeString:i,callbackfunc:n,handlerFunc:l,useCapture:t};return b.registerOrRemoveHandler(f)};function ua(e,r,t,n){return x?k(72,0,1,e,r,t,n):Be[1]?og(Be[1],e,r,t,21,"visibilitychange",n):-4}var sg=(e,r,t,n,a,i,o)=>{o=b.getTargetThreadForEventCallback(o),b.wheelEvent||=z(96);var l=(v=event)=>{var _=o?z(96):b.wheelEvent;Tr(_,v,e),K[_+64>>3]=v.deltaX,K[_+72>>3]=v.deltaY,K[_+80>>3]=v.deltaZ,m[_+88>>2]=v.deltaMode,o?ae(o,n,a,_,r):O(n)(a,_,r)&&v.preventDefault()},f={target:e,allowsDeferredCalls:!0,eventTypeString:i,callbackfunc:n,handlerFunc:l,useCapture:t};return b.registerOrRemoveHandler(f)};function fa(e,r,t,n,a){return x?k(73,0,1,e,r,t,n,a):(e=Z(e),e?typeof e.onwheel<"u"?sg(e,r,t,n,9,"wheel",a):-1:-4)}function ma(e){return x?k(74,0,1,e):document.title=W(e)}var lg=()=>{throw"Please compile your program with async support in order to use asynchronous operations like emscripten_sleep"},Lr={},cg=()=>qr||"./this.program",Ge=()=>{if(!Ge.strings){var e=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",r={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:e,_:cg()};for(var t in Lr)Lr[t]===void 0?delete r[t]:r[t]=Lr[t];var n=[];for(var t in r)n.push(`${t}=${r[t]}`);Ge.strings=n}return Ge.strings},ug=(e,r)=>{for(var t=0;t<e.length;++t)B[r++]=e.charCodeAt(t);B[r]=0},da=function(e,r){if(x)return k(75,0,1,e,r);var t=0;return Ge().forEach((n,a)=>{var i=r+t;P[e+a*4>>2]=i,ug(n,i),t+=n.length+1}),0},va=function(e,r){if(x)return k(76,0,1,e,r);var t=Ge();P[e>>2]=t.length;var n=0;return t.forEach(a=>n+=a.length+1),P[r>>2]=n,0};function _a(e){if(x)return k(77,0,1,e);try{var r=L.getStreamFromFD(e);return s.close(r),0}catch(t){if(typeof s>"u"||t.name!=="ErrnoError")throw t;return t.errno}}var fg=(e,r,t,n)=>{for(var a=0,i=0;i<t;i++){var o=P[r>>2],l=P[r+4>>2];r+=8;var f=s.read(e,B,o,l,n);if(f<0)return-1;if(a+=f,f<l)break}return a};function ga(e,r,t,n){if(x)return k(78,0,1,e,r,t,n);try{var a=L.getStreamFromFD(e),i=fg(a,r,t);return P[n>>2]=i,0}catch(o){if(typeof s>"u"||o.name!=="ErrnoError")throw o;return o.errno}}function pa(e,r,t,n){if(x)return k(79,0,1,e,r,t,n);r=be(r);try{if(isNaN(r))return 61;var a=L.getStreamFromFD(e);return s.llseek(a,r,t),$[n>>3]=BigInt(a.position),a.getdents&&r===0&&t===0&&(a.getdents=null),0}catch(i){if(typeof s>"u"||i.name!=="ErrnoError")throw i;return i.errno}}function ha(e){if(x)return k(80,0,1,e);try{var r=L.getStreamFromFD(e);return r.stream_ops?.fsync?r.stream_ops.fsync(r):0}catch(t){if(typeof s>"u"||t.name!=="ErrnoError")throw t;return t.errno}}var mg=(e,r,t,n)=>{for(var a=0,i=0;i<t;i++){var o=P[r>>2],l=P[r+4>>2];r+=8;var f=s.write(e,B,o,l,n);if(f<0)return-1;if(a+=f,f<l)break}return a};function xa(e,r,t,n){if(x)return k(81,0,1,e,r,t,n);try{var a=L.getStreamFromFD(e),i=mg(a,r,t);return P[n>>2]=i,0}catch(o){if(typeof s>"u"||o.name!=="ErrnoError")throw o;return o.errno}}var dg=(e,r,t)=>e.addEventListener(r,t,{once:!0}),vg=(e,r)=>{r||(r=[document,document.getElementById("canvas")]),["keydown","mousedown","touchstart"].forEach(t=>{r.forEach(n=>{n&&dg(n,t,()=>{e.state==="suspended"&&e.resume()})})})},rr=(e,r,t=[])=>{var n=O(r)(...t);return n},ba=e=>{var r=u["_"+e];return r},_g=(e,r)=>{B.set(e,r)},gg=(e,r,t,n,a)=>{var i={string:h=>{var F=0;return h!=null&&h!==0&&(F=wr(h)),F},array:h=>{var F=Ve(h.length);return _g(h,F),F}};function o(h){return r==="string"?W(h):r==="boolean"?!!h:h}var l=ba(e),f=[],v=0;if(n)for(var _=0;_<n.length;_++){var g=i[t[_]];g?(v===0&&(v=re()),f[_]=g(n[_])):f[_]=n[_]}var E=l(...f);function p(h){return v!==0&&J(v),o(h)}return E=p(E),E},R=(e,r,t,n)=>{var a=!t||t.every(o=>o==="number"||o==="boolean"),i=r!=="string";return i&&a&&!n?ba(e):(...o)=>gg(e,r,t,o)},Ea=(e,r)=>{e<128?r.push(e):r.push(e%128|128,e>>7)},pg=e=>{for(var r={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},t={parameters:[],results:e[0]=="v"?[]:[r[e[0]]]},n=1;n<e.length;++n)t.parameters.push(r[e[n]]);return t},hg=(e,r)=>{var t=e.slice(0,1),n=e.slice(1),a={i:127,p:127,j:126,f:125,d:124,e:111};r.push(96),Ea(n.length,r);for(var i=0;i<n.length;++i)r.push(a[n[i]]);t=="v"?r.push(0):r.push(1,a[t])},xg=(e,r)=>{if(typeof WebAssembly.Function=="function")return new WebAssembly.Function(pg(r),e);var t=[1];hg(r,t);var n=[0,97,115,109,1,0,0,0,1];Ea(t.length,n),n.push(...t),n.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var a=new WebAssembly.Module(new Uint8Array(n)),i=new WebAssembly.Instance(a,{e:{f:e}}),o=i.exports.f;return o},bg=(e,r)=>{if(ge)for(var t=e;t<e+r;t++){var n=O(t);n&&ge.set(n,t)}},ge,Eg=e=>(ge||(ge=new WeakMap,bg(0,ne.length)),ge.get(e)||0),Mr=[],yg=()=>{if(Mr.length)return Mr.pop();try{ne.grow(1)}catch(e){throw e instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":e}return ne.length-1},Gr=(e,r)=>{ne.set(e,r),De[e]=ne.get(e)},ya=(e,r)=>{var t=Eg(e);if(t)return t;var n=yg();try{Gr(n,e)}catch(i){if(!(i instanceof TypeError))throw i;var a=xg(e,r);Gr(n,a)}return ge.set(e,n),n},wa=e=>{ge.delete(O(e)),Gr(e,null),Mr.push(e)};M.init(),s.createPreloadedFile=fi,s.staticInit(),A.doesNotExistError=new s.ErrnoError(44),A.doesNotExistError.stack="<generic error, no stack>",u.requestFullscreen=y.requestFullscreen,u.setCanvasSize=y.setCanvasSize,u.getUserMedia=y.getUserMedia,u.createContext=y.createContext,u.requestAnimationFrame=S.requestAnimationFrame,u.pauseMainLoop=S.pause,u.resumeMainLoop=S.resume,S.init();for(var Ir=0;Ir<32;++Ir)Ye.push(new Array(Ir));var wg=[fr,st,mt,gt,pt,ht,xt,bt,Et,yt,wt,kt,St,Ct,At,Ft,Dt,Pt,Gt,It,Rt,Vt,Wt,jt,qt,Xt,Ht,Qt,Yt,$t,Kt,Jt,Zt,en,tn,nn,an,on,gn,un,dn,pn,hn,xn,bn,yn,wn,kn,Un,On,Je,Nn,Wn,zn,jn,Xn,Qn,Yn,$n,Kn,Jn,Zn,ea,ra,ta,na,aa,ia,oa,sa,la,ca,ua,fa,ma,da,va,_a,ga,pa,ha,xa],Rr;function kg(){Rr={__assert_fail:ri,__call_sighandler:ti,__pthread_create_js:dt,__syscall_fcntl64:gt,__syscall_fstat64:pt,__syscall_ftruncate64:ht,__syscall_getcwd:xt,__syscall_getdents64:bt,__syscall_ioctl:Et,__syscall_lstat64:yt,__syscall_mkdirat:wt,__syscall_newfstatat:kt,__syscall_openat:St,__syscall_readlinkat:Ct,__syscall_rmdir:At,__syscall_stat64:Ft,__syscall_unlinkat:Dt,__syscall_utimensat:Pt,_abort_js:di,_emscripten_init_main_thread_js:vi,_emscripten_notify_mailbox_postmessage:_i,_emscripten_receive_on_main_thread_js:gi,_emscripten_runtime_keepalive_clear:Lt,_emscripten_thread_cleanup:pi,_emscripten_thread_mailbox_await:br,_emscripten_thread_set_strongref:hi,_emscripten_throw_longjmp:xi,_localtime_js:wi,_mktime_js:ki,_mmap_js:Gt,_msync_js:It,_munmap_js:Rt,_tzset_js:Si,clock_time_get:Ai,eglBindAPI:Vt,eglChooseConfig:Wt,eglCreateContext:jt,eglCreateWindowSurface:qt,eglDestroyContext:Xt,eglDestroySurface:Ht,eglGetConfigAttrib:Qt,eglGetDisplay:Yt,eglGetError:$t,eglInitialize:Kt,eglMakeCurrent:Jt,eglQueryString:Zt,eglSwapBuffers:en,eglSwapInterval:tn,eglTerminate:nn,eglWaitGL:Mi,eglWaitNative:on,emscripten_asm_const_int:Ii,emscripten_asm_const_int_sync_on_main_thread:Ri,emscripten_asm_const_ptr_sync_on_main_thread:Ui,emscripten_cancel_main_loop:Oi,emscripten_check_blocking_allowed:Ni,emscripten_date_now:Ut,emscripten_exit_fullscreen:gn,emscripten_exit_pointerlock:pn,emscripten_exit_with_live_runtime:qi,emscripten_force_exit:hn,emscripten_get_device_pixel_ratio:xn,emscripten_get_element_css_size:bn,emscripten_get_gamepad_status:yn,emscripten_get_main_loop_timing:Xi,emscripten_get_now:Xe,emscripten_get_num_gamepads:wn,emscripten_get_screen_size:kn,emscripten_glActiveTexture:Qi,emscripten_glAttachShader:$i,emscripten_glBeginQuery:Ji,emscripten_glBeginQueryEXT:eo,emscripten_glBeginTransformFeedback:to,emscripten_glBindAttribLocation:ao,emscripten_glBindBuffer:oo,emscripten_glBindBufferBase:lo,emscripten_glBindBufferRange:uo,emscripten_glBindFramebuffer:mo,emscripten_glBindRenderbuffer:_o,emscripten_glBindSampler:po,emscripten_glBindTexture:xo,emscripten_glBindTransformFeedback:Eo,emscripten_glBindVertexArray:yo,emscripten_glBindVertexArrayOES:ko,emscripten_glBlendColor:Co,emscripten_glBlendEquation:Fo,emscripten_glBlendEquationSeparate:Bo,emscripten_glBlendFunc:To,emscripten_glBlendFuncSeparate:Mo,emscripten_glBlitFramebuffer:Io,emscripten_glBufferData:Uo,emscripten_glBufferSubData:No,emscripten_glCheckFramebufferStatus:Wo,emscripten_glClear:jo,emscripten_glClearBufferfi:Xo,emscripten_glClearBufferfv:Qo,emscripten_glClearBufferiv:$o,emscripten_glClearBufferuiv:Jo,emscripten_glClearColor:es,emscripten_glClearDepthf:ts,emscripten_glClearStencil:as,emscripten_glClientWaitSync:os,emscripten_glClipControlEXT:ls,emscripten_glColorMask:us,emscripten_glCompileShader:ms,emscripten_glCompressedTexImage2D:vs,emscripten_glCompressedTexImage3D:gs,emscripten_glCompressedTexSubImage2D:hs,emscripten_glCompressedTexSubImage3D:bs,emscripten_glCopyBufferSubData:ys,emscripten_glCopyTexImage2D:ks,emscripten_glCopyTexSubImage2D:Cs,emscripten_glCopyTexSubImage3D:Fs,emscripten_glCreateProgram:Bs,emscripten_glCreateShader:Ts,emscripten_glCullFace:Ms,emscripten_glDeleteBuffers:Is,emscripten_glDeleteFramebuffers:Us,emscripten_glDeleteProgram:Ns,emscripten_glDeleteQueries:Ws,emscripten_glDeleteQueriesEXT:js,emscripten_glDeleteRenderbuffers:Xs,emscripten_glDeleteSamplers:Qs,emscripten_glDeleteShader:$s,emscripten_glDeleteSync:Js,emscripten_glDeleteTextures:el,emscripten_glDeleteTransformFeedbacks:tl,emscripten_glDeleteVertexArrays:nl,emscripten_glDeleteVertexArraysOES:il,emscripten_glDepthFunc:sl,emscripten_glDepthMask:cl,emscripten_glDepthRangef:fl,emscripten_glDetachShader:dl,emscripten_glDisable:_l,emscripten_glDisableVertexAttribArray:pl,emscripten_glDrawArrays:xl,emscripten_glDrawArraysInstanced:bl,emscripten_glDrawArraysInstancedANGLE:yl,emscripten_glDrawArraysInstancedARB:kl,emscripten_glDrawArraysInstancedEXT:Cl,emscripten_glDrawArraysInstancedNV:Fl,emscripten_glDrawBuffers:Dl,emscripten_glDrawBuffersEXT:Pl,emscripten_glDrawBuffersWEBGL:Ll,emscripten_glDrawElements:Ml,emscripten_glDrawElementsInstanced:Gl,emscripten_glDrawElementsInstancedANGLE:Rl,emscripten_glDrawElementsInstancedARB:Ol,emscripten_glDrawElementsInstancedEXT:Vl,emscripten_glDrawElementsInstancedNV:zl,emscripten_glDrawRangeElements:ql,emscripten_glEnable:Hl,emscripten_glEnableVertexAttribArray:Yl,emscripten_glEndQuery:Kl,emscripten_glEndQueryEXT:Zl,emscripten_glEndTransformFeedback:rc,emscripten_glFenceSync:nc,emscripten_glFinish:ic,emscripten_glFlush:sc,emscripten_glFramebufferRenderbuffer:cc,emscripten_glFramebufferTexture2D:fc,emscripten_glFramebufferTextureLayer:dc,emscripten_glFrontFace:_c,emscripten_glGenBuffers:pc,emscripten_glGenFramebuffers:xc,emscripten_glGenQueries:Ec,emscripten_glGenQueriesEXT:wc,emscripten_glGenRenderbuffers:Sc,emscripten_glGenSamplers:Ac,emscripten_glGenTextures:Dc,emscripten_glGenTransformFeedbacks:Pc,emscripten_glGenVertexArrays:Tc,emscripten_glGenVertexArraysOES:Mc,emscripten_glGenerateMipmap:Ic,emscripten_glGetActiveAttrib:Uc,emscripten_glGetActiveUniform:Nc,emscripten_glGetActiveUniformBlockName:Wc,emscripten_glGetActiveUniformBlockiv:jc,emscripten_glGetActiveUniformsiv:Xc,emscripten_glGetAttachedShaders:Qc,emscripten_glGetAttribLocation:$c,emscripten_glGetBooleanv:Jc,emscripten_glGetBufferParameteri64v:eu,emscripten_glGetBufferParameteriv:tu,emscripten_glGetError:au,emscripten_glGetFloatv:ou,emscripten_glGetFragDataLocation:lu,emscripten_glGetFramebufferAttachmentParameteriv:uu,emscripten_glGetInteger64i_v:mu,emscripten_glGetInteger64v:vu,emscripten_glGetIntegeri_v:gu,emscripten_glGetIntegerv:hu,emscripten_glGetInternalformativ:bu,emscripten_glGetProgramBinary:yu,emscripten_glGetProgramInfoLog:ku,emscripten_glGetProgramiv:Cu,emscripten_glGetQueryObjecti64vEXT:Au,emscripten_glGetQueryObjectivEXT:Fu,emscripten_glGetQueryObjectui64vEXT:Bu,emscripten_glGetQueryObjectuiv:Tu,emscripten_glGetQueryObjectuivEXT:Mu,emscripten_glGetQueryiv:Iu,emscripten_glGetQueryivEXT:Uu,emscripten_glGetRenderbufferParameteriv:Nu,emscripten_glGetSamplerParameterfv:Wu,emscripten_glGetSamplerParameteriv:ju,emscripten_glGetShaderInfoLog:Xu,emscripten_glGetShaderPrecisionFormat:Qu,emscripten_glGetShaderSource:$u,emscripten_glGetShaderiv:Ju,emscripten_glGetString:ef,emscripten_glGetStringi:tf,emscripten_glGetSynciv:af,emscripten_glGetTexParameterfv:sf,emscripten_glGetTexParameteriv:cf,emscripten_glGetTransformFeedbackVarying:ff,emscripten_glGetUniformBlockIndex:df,emscripten_glGetUniformIndices:_f,emscripten_glGetUniformLocation:hf,emscripten_glGetUniformfv:bf,emscripten_glGetUniformiv:yf,emscripten_glGetUniformuiv:kf,emscripten_glGetVertexAttribIiv:Sf,emscripten_glGetVertexAttribIuiv:Af,emscripten_glGetVertexAttribPointerv:Df,emscripten_glGetVertexAttribfv:Pf,emscripten_glGetVertexAttribiv:Lf,emscripten_glHint:Gf,emscripten_glInvalidateFramebuffer:Rf,emscripten_glInvalidateSubFramebuffer:Of,emscripten_glIsBuffer:Vf,emscripten_glIsEnabled:zf,emscripten_glIsFramebuffer:qf,emscripten_glIsProgram:Hf,emscripten_glIsQuery:Yf,emscripten_glIsQueryEXT:Kf,emscripten_glIsRenderbuffer:Zf,emscripten_glIsSampler:rm,emscripten_glIsShader:nm,emscripten_glIsSync:im,emscripten_glIsTexture:sm,emscripten_glIsTransformFeedback:cm,emscripten_glIsVertexArray:um,emscripten_glIsVertexArrayOES:mm,emscripten_glLineWidth:vm,emscripten_glLinkProgram:gm,emscripten_glPauseTransformFeedback:hm,emscripten_glPixelStorei:bm,emscripten_glPolygonModeWEBGL:ym,emscripten_glPolygonOffset:km,emscripten_glPolygonOffsetClampEXT:Cm,emscripten_glProgramBinary:Fm,emscripten_glProgramParameteri:Bm,emscripten_glQueryCounterEXT:Tm,emscripten_glReadBuffer:Mm,emscripten_glReadPixels:Um,emscripten_glReleaseShaderCompiler:Nm,emscripten_glRenderbufferStorage:Wm,emscripten_glRenderbufferStorageMultisample:jm,emscripten_glResumeTransformFeedback:Xm,emscripten_glSampleCoverage:Qm,emscripten_glSamplerParameterf:$m,emscripten_glSamplerParameterfv:Jm,emscripten_glSamplerParameteri:ed,emscripten_glSamplerParameteriv:td,emscripten_glScissor:ad,emscripten_glShaderBinary:od,emscripten_glShaderSource:ld,emscripten_glStencilFunc:ud,emscripten_glStencilFuncSeparate:md,emscripten_glStencilMask:vd,emscripten_glStencilMaskSeparate:gd,emscripten_glStencilOp:hd,emscripten_glStencilOpSeparate:bd,emscripten_glTexImage2D:yd,emscripten_glTexImage3D:kd,emscripten_glTexParameterf:Cd,emscripten_glTexParameterfv:Fd,emscripten_glTexParameteri:Bd,emscripten_glTexParameteriv:Td,emscripten_glTexStorage2D:Md,emscripten_glTexStorage3D:Id,emscripten_glTexSubImage2D:Ud,emscripten_glTexSubImage3D:Nd,emscripten_glTransformFeedbackVaryings:Wd,emscripten_glUniform1f:jd,emscripten_glUniform1fv:Xd,emscripten_glUniform1i:Qd,emscripten_glUniform1iv:$d,emscripten_glUniform1ui:Jd,emscripten_glUniform1uiv:ev,emscripten_glUniform2f:tv,emscripten_glUniform2fv:av,emscripten_glUniform2i:ov,emscripten_glUniform2iv:lv,emscripten_glUniform2ui:uv,emscripten_glUniform2uiv:mv,emscripten_glUniform3f:vv,emscripten_glUniform3fv:gv,emscripten_glUniform3i:hv,emscripten_glUniform3iv:bv,emscripten_glUniform3ui:yv,emscripten_glUniform3uiv:kv,emscripten_glUniform4f:Cv,emscripten_glUniform4fv:Fv,emscripten_glUniform4i:Bv,emscripten_glUniform4iv:Tv,emscripten_glUniform4ui:Mv,emscripten_glUniform4uiv:Iv,emscripten_glUniformBlockBinding:Uv,emscripten_glUniformMatrix2fv:Nv,emscripten_glUniformMatrix2x3fv:Wv,emscripten_glUniformMatrix2x4fv:jv,emscripten_glUniformMatrix3fv:Xv,emscripten_glUniformMatrix3x2fv:Qv,emscripten_glUniformMatrix3x4fv:$v,emscripten_glUniformMatrix4fv:Jv,emscripten_glUniformMatrix4x2fv:e_,emscripten_glUniformMatrix4x3fv:t_,emscripten_glUseProgram:a_,emscripten_glValidateProgram:o_,emscripten_glVertexAttrib1f:l_,emscripten_glVertexAttrib1fv:u_,emscripten_glVertexAttrib2f:m_,emscripten_glVertexAttrib2fv:v_,emscripten_glVertexAttrib3f:g_,emscripten_glVertexAttrib3fv:h_,emscripten_glVertexAttrib4f:b_,emscripten_glVertexAttrib4fv:y_,emscripten_glVertexAttribDivisor:w_,emscripten_glVertexAttribDivisorANGLE:S_,emscripten_glVertexAttribDivisorARB:A_,emscripten_glVertexAttribDivisorEXT:D_,emscripten_glVertexAttribDivisorNV:P_,emscripten_glVertexAttribI4i:L_,emscripten_glVertexAttribI4iv:G_,emscripten_glVertexAttribI4ui:R_,emscripten_glVertexAttribI4uiv:O_,emscripten_glVertexAttribIPointer:V_,emscripten_glVertexAttribPointer:z_,emscripten_glViewport:q_,emscripten_glWaitSync:H_,emscripten_has_asyncify:Q_,emscripten_pause_main_loop:Y_,emscripten_request_fullscreen_strategy:Un,emscripten_request_pointerlock:On,emscripten_resize_heap:J_,emscripten_resume_main_loop:Z_,emscripten_sample_gamepad_data:Je,emscripten_set_beforeunload_callback_on_thread:Nn,emscripten_set_blur_callback_on_thread:Wn,emscripten_set_canvas_element_size:vn,emscripten_set_element_css_size:zn,emscripten_set_focus_callback_on_thread:jn,emscripten_set_fullscreenchange_callback_on_thread:Xn,emscripten_set_gamepadconnected_callback_on_thread:Qn,emscripten_set_gamepaddisconnected_callback_on_thread:Yn,emscripten_set_keydown_callback_on_thread:$n,emscripten_set_keypress_callback_on_thread:Kn,emscripten_set_keyup_callback_on_thread:Jn,emscripten_set_main_loop:tg,emscripten_set_main_loop_timing:Se,emscripten_set_mousedown_callback_on_thread:Zn,emscripten_set_mouseenter_callback_on_thread:ea,emscripten_set_mouseleave_callback_on_thread:ra,emscripten_set_mousemove_callback_on_thread:ta,emscripten_set_mouseup_callback_on_thread:na,emscripten_set_pointerlockchange_callback_on_thread:aa,emscripten_set_resize_callback_on_thread:ia,emscripten_set_touchcancel_callback_on_thread:oa,emscripten_set_touchend_callback_on_thread:sa,emscripten_set_touchmove_callback_on_thread:la,emscripten_set_touchstart_callback_on_thread:ca,emscripten_set_visibilitychange_callback_on_thread:ua,emscripten_set_wheel_callback_on_thread:fa,emscripten_set_window_title:ma,emscripten_sleep:lg,environ_get:da,environ_sizes_get:va,exit:We,fd_close:_a,fd_read:ga,fd_seek:pa,fd_sync:ha,fd_write:xa,invoke_ii:Dg,invoke_iii:Tg,invoke_iiii:Cg,invoke_iiiii:Sg,invoke_vi:Lg,invoke_vii:Ag,invoke_viii:Pg,invoke_viiii:Fg,invoke_viiiii:Mg,invoke_viiiiiiiii:Bg,memory:pe,proc_exit:fr}}var C=await Qa();u._screenshot=e=>(u._screenshot=C.screenshot)(e),u._buttonPress=e=>(u._buttonPress=C.buttonPress)(e),u._buttonUnpress=e=>(u._buttonUnpress=C.buttonUnpress)(e),u._toggleRewind=e=>(u._toggleRewind=C.toggleRewind)(e),u._setVolume=e=>(u._setVolume=C.setVolume)(e),u._getVolume=()=>(u._getVolume=C.getVolume)(),u._getMainLoopTimingMode=()=>(u._getMainLoopTimingMode=C.getMainLoopTimingMode)(),u._getMainLoopTimingValue=()=>(u._getMainLoopTimingValue=C.getMainLoopTimingValue)(),u._setMainLoopTiming=(e,r)=>(u._setMainLoopTiming=C.setMainLoopTiming)(e,r),u._setFastForwardMultiplier=e=>(u._setFastForwardMultiplier=C.setFastForwardMultiplier)(e),u._getFastForwardMultiplier=()=>(u._getFastForwardMultiplier=C.getFastForwardMultiplier)(),u._quitGame=()=>(u._quitGame=C.quitGame)();var ka=e=>(ka=C.free)(e);u._quitMgba=()=>(u._quitMgba=C.quitMgba)(),u._autoSaveState=()=>(u._autoSaveState=C.autoSaveState)(),u._loadAutoSaveState=()=>(u._loadAutoSaveState=C.loadAutoSaveState)(),u._quickReload=()=>(u._quickReload=C.quickReload)(),u._pauseGame=()=>(u._pauseGame=C.pauseGame)(),u._resumeGame=()=>(u._resumeGame=C.resumeGame)(),u._pauseAudio=()=>(u._pauseAudio=C.pauseAudio)(),u._resumeAudio=()=>(u._resumeAudio=C.resumeAudio)(),u._setEventEnable=e=>(u._setEventEnable=C.setEventEnable)(e),u._bindKey=(e,r)=>(u._bindKey=C.bindKey)(e,r),u._saveState=e=>(u._saveState=C.saveState)(e),u._loadState=e=>(u._loadState=C.loadState)(e),u._autoLoadCheats=()=>(u._autoLoadCheats=C.autoLoadCheats)(),u._loadGame=(e,r)=>(u._loadGame=C.loadGame)(e,r),u._saveStateSlot=(e,r)=>(u._saveStateSlot=C.saveStateSlot)(e,r),u._loadStateSlot=(e,r)=>(u._loadStateSlot=C.loadStateSlot)(e,r),u._addCoreCallbacks=(e,r,t,n,a,i,o,l)=>(u._addCoreCallbacks=C.addCoreCallbacks)(e,r,t,n,a,i,o,l),u._setIntegerCoreSetting=(e,r)=>(u._setIntegerCoreSetting=C.setIntegerCoreSetting)(e,r),u._setupConstants=()=>(u._setupConstants=C.setupConstants)();var Sa=u._main=(e,r)=>(Sa=u._main=C.main)(e,r),z=e=>(z=C.malloc)(e),Ie=()=>(Ie=C.pthread_self)(),Ca=(e,r)=>(Ca=C.emscripten_builtin_memalign)(e,r),ae=(e,r,t,n,a)=>(ae=C._emscripten_run_callback_on_thread)(e,r,t,n,a),Ur=(e,r,t,n,a,i)=>(Ur=C._emscripten_thread_init)(e,r,t,n,a,i),Aa=()=>(Aa=C._emscripten_thread_crashed)(),Fa=(e,r,t,n,a)=>(Fa=C._emscripten_run_on_main_thread_js)(e,r,t,n,a),Da=e=>(Da=C._emscripten_thread_free_data)(e),Or=e=>(Or=C._emscripten_thread_exit)(e),Ba=()=>(Ba=C._emscripten_check_mailbox)(),oe=(e,r)=>(oe=C.setThrew)(e,r),Pa=(e,r)=>(Pa=C.emscripten_stack_set_limits)(e,r),Ta=e=>(Ta=C._emscripten_stack_restore)(e),La=e=>(La=C._emscripten_stack_alloc)(e),Ma=()=>(Ma=C.emscripten_stack_get_current)();u._GBAInputInfo=122432,u._binaryName=198464,u._projectName=198468,u._projectVersion=198472,u._gitCommit=198448,u._gitCommitShort=198452,u._gitBranch=198456,u._gitRevision=198460,u._GBIORegisterNames=60800,u._GBSavestateMagic=76064,u._GBSavestateVersion=76068,u._GBA_LUX_LEVELS=105536,u._GBAVideoObjSizes=149872,u._GBASavestateMagic=149648,u._GBASavestateVersion=149652;function Sg(e,r,t,n,a){var i=re();try{return O(e)(r,t,n,a)}catch(o){if(J(i),o!==o+0)throw o;oe(1,0)}}function Cg(e,r,t,n){var a=re();try{return O(e)(r,t,n)}catch(i){if(J(a),i!==i+0)throw i;oe(1,0)}}function Ag(e,r,t){var n=re();try{O(e)(r,t)}catch(a){if(J(n),a!==a+0)throw a;oe(1,0)}}function Fg(e,r,t,n,a){var i=re();try{O(e)(r,t,n,a)}catch(o){if(J(i),o!==o+0)throw o;oe(1,0)}}function Dg(e,r){var t=re();try{return O(e)(r)}catch(n){if(J(t),n!==n+0)throw n;oe(1,0)}}function Bg(e,r,t,n,a,i,o,l,f,v){var _=re();try{O(e)(r,t,n,a,i,o,l,f,v)}catch(g){if(J(_),g!==g+0)throw g;oe(1,0)}}function Pg(e,r,t,n){var a=re();try{O(e)(r,t,n)}catch(i){if(J(a),i!==i+0)throw i;oe(1,0)}}function Tg(e,r,t){var n=re();try{return O(e)(r,t)}catch(a){if(J(n),a!==a+0)throw a;oe(1,0)}}function Lg(e,r){var t=re();try{O(e)(r)}catch(n){if(J(t),n!==n+0)throw n;oe(1,0)}}function Mg(e,r,t,n,a,i){var o=re();try{O(e)(r,t,n,a,i)}catch(l){if(J(o),l!==l+0)throw l;oe(1,0)}}u.cwrap=R,u.addFunction=ya,u.removeFunction=wa,u.FS=s;function Gg(){var e=Sa,r=0,t=0;try{var n=e(r,t);return lt(n,!0),n}catch(a){return mr(a)}}function Nr(){if(me>0){Ae=Nr;return}if(x){tr(u),Jr();return}if(Va(),me>0){Ae=Nr;return}function e(){if(u.calledRun=!0,!he){Jr(),tr(u),u.onRuntimeInitialized?.();var r=u.noInitialRun;r||Gg(),Wa()}}u.setStatus?(u.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>u.setStatus(""),1),e()},1)):e()}if(u.preInit)for(typeof u.preInit=="function"&&(u.preInit=[u.preInit]);u.preInit.length>0;)u.preInit.pop()();return Nr(),Wr=Ua,Wr})})(),Ia=globalThis.self?.name?.startsWith("em-pthread");Ia&&Ga()})();
